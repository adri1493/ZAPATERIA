
package Interfaz;

import java.awt.Color;
import java.awt.Cursor;
import java.awt.Toolkit;
import java.awt.event.MouseEvent;

import java.io.File;

import java.util.Calendar;
import java.util.Collection;
import java.util.GregorianCalendar;
import java.util.HashMap;
import java.util.Iterator;
import java.util.LinkedList;
import java.util.List;
import java.util.Map;
import java.util.Observable;
import java.util.Observer;

import javax.swing.ImageIcon;
import javax.swing.JColorChooser;
import javax.swing.JOptionPane;
import javax.swing.JTable;
import javax.swing.table.DefaultTableModel;

import net.sf.jasperreports.engine.JRException;
import net.sf.jasperreports.engine.JasperFillManager;
import net.sf.jasperreports.engine.JasperPrint;
import net.sf.jasperreports.engine.JasperReport;
import net.sf.jasperreports.engine.data.JRBeanCollectionDataSource;
import net.sf.jasperreports.engine.util.JRLoader;
import net.sf.jasperreports.view.JasperViewer;

import project1.Articulo;
import project1.Auditoria;
import project1.Caja;
import project1.Categoria;
import project1.Compra;
import project1.DetalleVenta;
import project1.Empleado;
import project1.Empresa;
import project1.Marca;
import project1.MovimientoCaja;
import project1.Proveedor;
import project1.Venta;

/**
 *
 * @author polaco
 */
public class GuiPrincipal extends javax.swing.JFrame implements Observer {
    Empresa unaEmpresa;
    private List colador = new LinkedList();
    Collection articulos = new LinkedList();
    Collection compras = new LinkedList();
    Collection proveedores = new LinkedList();
    public Object[][] data2;
    Collection auditorias = new LinkedList();
    private boolean aux = false;
    public int codCaja;
    //Thread hilo;


    /** Creates new form Principal */
    public GuiPrincipal() {
        initComponents();
    }

    public GuiPrincipal(Empresa unaEmpresa) {
        this.unaEmpresa = unaEmpresa;
        initComponents();
        for (Caja unaCaja : unaEmpresa.getCajas().values()) {
            if (unaCaja.isCajaAbierta()) {
                if (unaCaja.getFecha().get(Calendar.DAY_OF_MONTH) != Calendar.getInstance().get(Calendar.DAY_OF_MONTH)) {
                    codCaja = unaCaja.getCodCaja();
                    GuiCierreCaja asd = new GuiCierreCaja(this, true, unaEmpresa);
                    JOptionPane.showMessageDialog(null, "La caja fue abierta en un dia diferente a hoy. Cierrela para continuar.");
                    asd.setVisible(true);
                }
            }
        }
        unaEmpresa.addObserver(this);
        facu();
        CargaTablaArticulos(unaEmpresa.getArticulos());
        CargaTablaVentas(consultaDiaVenta());
        CargaTablaCompras(unaEmpresa.getCompras());
        CargaTablaProveedores(unaEmpresa.getProveedores());
        CargaTablaEmpleados(unaEmpresa.getEmpleados());
        CargaTablaUsuarios(unaEmpresa.getEmpleados());
        CargaTablaCaja(unaEmpresa.getCajas());
        dateCompra.setVisible(false);
        dateVenta.setVisible(false);
        dateCompra.getDateEditor().getUiComponent().setEnabled(false);
        dateVenta.getDateEditor().getUiComponent().setEnabled(false);
        dp_desde.getDateEditor().getUiComponent().setEnabled(false);
        dp_hasta.getDateEditor().getUiComponent().setEnabled(false);
        calDesde.getDateEditor().getUiComponent().setEnabled(false);
        calHasta.getDateEditor().getUiComponent().setEnabled(false);
        //hilo = new Thread(this);
        //hilo.start();
        reloj();
        calculoComision();
        lblUsuarioActual.setText(GuiIngresar.getUsuario());
    }


    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    private void initComponents() {//GEN-BEGIN:initComponents

        Menu = new javax.swing.JPopupMenu();
        menuPagar = new javax.swing.JMenuItem();
        menuPagarTodos = new javax.swing.JMenuItem();
        tbpPrincipal = new javax.swing.JTabbedPane();
        tbpCompra = new javax.swing.JPanel();
        btnProveedores = new javax.swing.JButton();
        btnFacturaCompras = new javax.swing.JButton();
        tbpmodificar = new javax.swing.JTabbedPane();
        tbpEntradas = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        tblCompras = new javax.swing.JTable();
        txtBuscarEntradas = new org.jdesktop.swingx.JXSearchField();
        lblBuscar = new javax.swing.JLabel();
        lblCriterioBusqueda1 = new javax.swing.JLabel();
        cmbCriterioEntrada = new javax.swing.JComboBox();
        dateCompra = new com.toedter.calendar.JDateChooser();
        tbpProveedores = new javax.swing.JPanel();
        lblBuscar1 = new javax.swing.JLabel();
        txtBuscarPro = new org.jdesktop.swingx.JXSearchField();
        jScrollPane2 = new javax.swing.JScrollPane();
        tblProveedores = new javax.swing.JTable();
        lblCriterioBusqueda = new javax.swing.JLabel();
        cmbCriterioProveedor = new javax.swing.JComboBox();
        tbpVentas = new javax.swing.JPanel();
        btnVentas = new javax.swing.JButton();
        jPanel10 = new javax.swing.JPanel();
        lblCriterioBusqueda2 = new javax.swing.JLabel();
        cmbCriterioVenta = new javax.swing.JComboBox();
        lblBuscar5 = new javax.swing.JLabel();
        txtBuscarVentas = new org.jdesktop.swingx.JXSearchField();
        jScrollPane10 = new javax.swing.JScrollPane();
        tblVentas = new javax.swing.JTable();
        dateVenta = new com.toedter.calendar.JDateChooser();
        tbpArticulos = new javax.swing.JPanel();
        btnArticulo = new javax.swing.JButton();
        btnMarca = new javax.swing.JButton();
        btnCategoria = new javax.swing.JButton();
        jPanel11 = new javax.swing.JPanel();
        jScrollPane4 = new javax.swing.JScrollPane();
        tblArticulos = new javax.swing.JTable();
        lblCriterioBusqueda3 = new javax.swing.JLabel();
        cmbCriterioArticulo = new javax.swing.JComboBox();
        lblBuscar6 = new javax.swing.JLabel();
        txtBuscarArticulos = new org.jdesktop.swingx.JXSearchField();
        btnArticulo1 = new javax.swing.JButton();
        tbpInformes = new javax.swing.JPanel();
        jLabel8 = new javax.swing.JLabel();
        cbx_filtro1 = new javax.swing.JComboBox();
        jLabel9 = new javax.swing.JLabel();
        cmbCV = new javax.swing.JComboBox();
        calDesde = new com.toedter.calendar.JDateChooser();
        lblDesde = new javax.swing.JLabel();
        lblHasta = new javax.swing.JLabel();
        calHasta = new com.toedter.calendar.JDateChooser();
        btn_ver1 = new javax.swing.JToggleButton();
        btnAceptar2 = new javax.swing.JToggleButton();
        jScrollPane9 = new javax.swing.JScrollPane();
        tablaEstadistica = new javax.swing.JTable();
        tbpEmpleados = new javax.swing.JPanel();
        btnComision = new javax.swing.JButton();
        btnEmpleados = new javax.swing.JButton();
        jPanel12 = new javax.swing.JPanel();
        jScrollPane5 = new javax.swing.JScrollPane();
        tblEmpleados = new javax.swing.JTable();
        lblCriterioBusqueda4 = new javax.swing.JLabel();
        cmbCriteriEmpleado = new javax.swing.JComboBox();
        lblBuscar7 = new javax.swing.JLabel();
        txtBuscarEmpleado = new org.jdesktop.swingx.JXSearchField();
        tbpCaja = new javax.swing.JPanel();
        btnAperturaCaja = new javax.swing.JButton();
        btnCierreCaja = new javax.swing.JButton();
        jPanel6 = new javax.swing.JPanel();
        jScrollPane6 = new javax.swing.JScrollPane();
        tblCaja = new javax.swing.JTable();
        tbpSeguridad = new javax.swing.JPanel();
        btnUsuarios = new javax.swing.JButton();
        btnRoles = new javax.swing.JButton();
        btnUsuarios2 = new javax.swing.JButton();
        jTabbedPane1 = new javax.swing.JTabbedPane();
        jPanel1 = new javax.swing.JPanel();
        jScrollPane3 = new javax.swing.JScrollPane();
        tblUsuarios = new javax.swing.JTable();
        lblCriterioBusqueda5 = new javax.swing.JLabel();
        cmbCriteriUsuario = new javax.swing.JComboBox();
        lblBuscar8 = new javax.swing.JLabel();
        txtBuscarUsuario = new org.jdesktop.swingx.JXSearchField();
        jPanel2 = new javax.swing.JPanel();
        jScrollPane7 = new javax.swing.JScrollPane();
        jTable2 = new javax.swing.JTable();
        tbpParamentros = new javax.swing.JPanel();
        btnRoles1 = new javax.swing.JButton();
        btnEmpresa = new javax.swing.JButton();
        jPanel3 = new javax.swing.JPanel();
        tbpAuditoria = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        cbx_filtro = new javax.swing.JComboBox();
        CBUsuario = new javax.swing.JComboBox();
        cbx_accion = new javax.swing.JComboBox();
        CBUsuario1 = new javax.swing.JComboBox();
        dp_desde = new com.toedter.calendar.JDateChooser();
        dp_hasta = new com.toedter.calendar.JDateChooser();
        jRadioButton1 = new javax.swing.JCheckBox();
        jScrollPane8 = new javax.swing.JScrollPane();
        jTableAuditoria = new javax.swing.JTable();
        jButton1 = new javax.swing.JToggleButton();
        btn_ver = new javax.swing.JToggleButton();
        btnAceptar1 = new javax.swing.JToggleButton();
        jPanel5 = new javax.swing.JPanel();
        jLabel12 = new javax.swing.JLabel();
        lblFecha = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        lblUsuarioActual = new javax.swing.JLabel();
        Menu.getAccessibleContext().setAccessibleName("");
        Menu.getAccessibleContext().setAccessibleParent(tblEmpleados);

        menuPagar.setText("jMenuItem1");
        menuPagar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuPagarActionPerformed(evt);
            }
        });
        menuPagar.getAccessibleContext().setAccessibleParent(Menu);

        menuPagarTodos.setText("jMenuItem2");
        menuPagarTodos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuPagarTodosActionPerformed(evt);
            }
        });
        menuPagarTodos.getAccessibleContext().setAccessibleParent(Menu);

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Pantalla Principal");
        setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        setIconImage(Toolkit.getDefaultToolkit().getImage(getClass().getResource("/iconos/iconoprograma.png")));
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowActivated(java.awt.event.WindowEvent evt) {
                formWindowActivated(evt);
            }
        });

        tbpPrincipal.setToolTipText("");
        tbpPrincipal.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        tbpPrincipal.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        tbpPrincipal.setInheritsPopupMenu(true);
        tbpPrincipal.setRequestFocusEnabled(false);
        tbpPrincipal.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                tbpPrincipalFocusGained(evt);
            }
        });

        tbpCompra.setBackground(new java.awt.Color(204, 204, 204));
        tbpCompra.setForeground(new java.awt.Color(0, 153, 255));
        tbpCompra.setPreferredSize(new java.awt.Dimension(1256, 51));

        btnProveedores.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/1404928590_administrator.png"))); // NOI18N
        btnProveedores.setText("Proveedor");
        btnProveedores.setDefaultCapable(false);
        btnProveedores.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnProveedores.setIconTextGap(-1);
        btnProveedores.setMaximumSize(new java.awt.Dimension(77, 77));
        btnProveedores.setMinimumSize(new java.awt.Dimension(77, 77));
        btnProveedores.setPreferredSize(new java.awt.Dimension(77, 77));
        btnProveedores.setVerifyInputWhenFocusTarget(false);
        btnProveedores.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnProveedores.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnProveedoresMouseClicked(evt);
            }
        });
        btnProveedores.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnProveedoresActionPerformed(evt);
            }
        });

        btnFacturaCompras.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/1404929222_Shopping cart.png"))); // NOI18N
        btnFacturaCompras.setText("<html>Nueva<br />Compra<html>");
        btnFacturaCompras.setDefaultCapable(false);
        btnFacturaCompras.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnFacturaCompras.setIconTextGap(-1);
        btnFacturaCompras.setVerifyInputWhenFocusTarget(false);
        btnFacturaCompras.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnFacturaCompras.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnFacturaComprasMouseClicked(evt);
            }
        });
        btnFacturaCompras.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnFacturaComprasActionPerformed(evt);
            }
        });

        tbpmodificar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tbpmodificarMouseClicked(evt);
            }
        });

        tblCompras.setAutoCreateRowSorter(true);
        tblCompras.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null}
            },
            new String [] {
                "Codigo", "Proveedor", "Empleado", "Monto Total", "fecha"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        tblCompras.setToolTipText("");
        tblCompras.setRowSelectionAllowed(false);
        tblCompras.getTableHeader().setReorderingAllowed(false);
        tblCompras.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tblComprasMouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(tblCompras);
        tblCompras.getColumnModel().getColumn(0).setHeaderValue("Codigo");
        tblCompras.getColumnModel().getColumn(1).setHeaderValue("Proveedor");
        tblCompras.getColumnModel().getColumn(2).setHeaderValue("Empleado");
        tblCompras.getColumnModel().getColumn(3).setHeaderValue("Monto Total");
        tblCompras.getColumnModel().getColumn(4).setHeaderValue("fecha");

        txtBuscarEntradas.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                txtBuscarEntradasCaretUpdate(evt);
            }
        });
        txtBuscarEntradas.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtBuscarEntradasActionPerformed(evt);
            }
        });

        lblBuscar.setText("Buscar");

        lblCriterioBusqueda1.setText("Criterio de Busqueda:");

        cmbCriterioEntrada.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Busqueda Inteligente", "Codigo", "Proveedor", "Fecha" }));
        cmbCriterioEntrada.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmbCriterioEntradaActionPerformed(evt);
            }
        });

        dateCompra.setMaxSelectableDate(Calendar.getInstance().getTime());

        javax.swing.GroupLayout tbpEntradasLayout = new javax.swing.GroupLayout(tbpEntradas);
        tbpEntradas.setLayout(tbpEntradasLayout);
        tbpEntradasLayout.setHorizontalGroup(
            tbpEntradasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpEntradasLayout.createSequentialGroup()
                .addGap(12, 12, 12)
                .addComponent(lblCriterioBusqueda1)
                .addGap(12, 12, 12)
                .addComponent(cmbCriterioEntrada, javax.swing.GroupLayout.PREFERRED_SIZE, 149, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(115, 115, 115)
                .addComponent(lblBuscar)
                .addGap(56, 56, 56)
                .addComponent(dateCompra, javax.swing.GroupLayout.PREFERRED_SIZE, 180, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(20, 20, 20)
                .addComponent(txtBuscarEntradas, javax.swing.GroupLayout.PREFERRED_SIZE, 220, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addComponent(jScrollPane1)
        );
        tbpEntradasLayout.setVerticalGroup(
            tbpEntradasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpEntradasLayout.createSequentialGroup()
                .addGap(20, 20, 20)
                .addGroup(tbpEntradasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(tbpEntradasLayout.createSequentialGroup()
                        .addGap(4, 4, 4)
                        .addComponent(lblCriterioBusqueda1))
                    .addGroup(tbpEntradasLayout.createSequentialGroup()
                        .addGap(1, 1, 1)
                        .addComponent(cmbCriterioEntrada, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(tbpEntradasLayout.createSequentialGroup()
                        .addGap(4, 4, 4)
                        .addComponent(lblBuscar))
                    .addComponent(dateCompra, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtBuscarEntradas, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(6, 6, 6)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 440, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        tbpmodificar.addTab("Entradas", tbpEntradas);

        lblBuscar1.setText("Buscar");

        txtBuscarPro.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                txtBuscarProCaretUpdate(evt);
            }
        });

        tblProveedores.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null}
            },
            new String [] {
                "CUIT", "Razon Social", "Domicilio", "Telefono", "Saldo"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        tblProveedores.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tblProveedoresMouseClicked(evt);
            }
        });
        jScrollPane2.setViewportView(tblProveedores);
        tblProveedores.getColumnModel().getColumn(0).setHeaderValue("CUIT");
        tblProveedores.getColumnModel().getColumn(1).setHeaderValue("Razon Social");
        tblProveedores.getColumnModel().getColumn(2).setHeaderValue("Domicilio");
        tblProveedores.getColumnModel().getColumn(3).setHeaderValue("Telefono");
        tblProveedores.getColumnModel().getColumn(4).setHeaderValue("Saldo");

        lblCriterioBusqueda.setText("Criterio de Busqueda:");

        cmbCriterioProveedor.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Busqueda Inteligente", "CUIT", "Razon Social", "Domicilio" }));

        javax.swing.GroupLayout tbpProveedoresLayout = new javax.swing.GroupLayout(tbpProveedores);
        tbpProveedores.setLayout(tbpProveedoresLayout);
        tbpProveedoresLayout.setHorizontalGroup(
            tbpProveedoresLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpProveedoresLayout.createSequentialGroup()
                .addGap(1, 1, 1)
                .addGroup(tbpProveedoresLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane2)
                    .addGroup(tbpProveedoresLayout.createSequentialGroup()
                        .addComponent(lblCriterioBusqueda)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(cmbCriterioProveedor, javax.swing.GroupLayout.PREFERRED_SIZE, 149, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(90, 90, 90)
                        .addComponent(lblBuscar1)
                        .addGap(54, 54, 54)
                        .addComponent(txtBuscarPro, javax.swing.GroupLayout.PREFERRED_SIZE, 257, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 580, Short.MAX_VALUE)))
                .addContainerGap())
        );
        tbpProveedoresLayout.setVerticalGroup(
            tbpProveedoresLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpProveedoresLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(tbpProveedoresLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(tbpProveedoresLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(lblCriterioBusqueda)
                        .addComponent(cmbCriterioProveedor, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(tbpProveedoresLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(txtBuscarPro, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(lblBuscar1)))
                .addGap(18, 18, 18)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 330, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(109, Short.MAX_VALUE))
        );

        tbpmodificar.addTab("Proveedores", tbpProveedores);

        javax.swing.GroupLayout tbpCompraLayout = new javax.swing.GroupLayout(tbpCompra);
        tbpCompra.setLayout(tbpCompraLayout);
        tbpCompraLayout.setHorizontalGroup(
            tbpCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpCompraLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(btnFacturaCompras, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(81, 81, 81)
                .addComponent(btnProveedores, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addComponent(tbpmodificar, javax.swing.GroupLayout.Alignment.TRAILING)
        );

        tbpCompraLayout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {btnFacturaCompras, btnProveedores});

        tbpCompraLayout.setVerticalGroup(
            tbpCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpCompraLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(tbpCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(btnFacturaCompras)
                    .addComponent(btnProveedores, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(18, 18, 18)
                .addComponent(tbpmodificar)
                .addContainerGap())
        );

        tbpCompraLayout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {btnFacturaCompras, btnProveedores});

        tbpPrincipal.addTab("Compras", tbpCompra);

        tbpVentas.setBackground(new java.awt.Color(204, 204, 204));

        btnVentas.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/1404930869_sales-report.png"))); // NOI18N
        btnVentas.setText("Nuevo");
        btnVentas.setDefaultCapable(false);
        btnVentas.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnVentas.setIconTextGap(-1);
        btnVentas.setVerifyInputWhenFocusTarget(false);
        btnVentas.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnVentas.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnVentasMouseClicked(evt);
            }
        });
        btnVentas.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnVentasActionPerformed(evt);
            }
        });

        lblCriterioBusqueda2.setText("Criterio de Busqueda:");

        cmbCriterioVenta.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Busqueda Inteligente", "Codigo", "Proveedor", "Fecha" }));
        cmbCriterioVenta.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmbCriterioVentaActionPerformed(evt);
            }
        });

        lblBuscar5.setText("Buscar");

        txtBuscarVentas.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                txtBuscarVentasCaretUpdate(evt);
            }
        });
        txtBuscarVentas.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtBuscarVentasActionPerformed(evt);
            }
        });

        tblVentas.setAutoCreateRowSorter(true);
        tblVentas.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null}
            },
            new String [] {
                "Codigo", "Usuario", "Empleado", "Cliente", "Monto Total", "Fecha"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        tblVentas.setColumnSelectionAllowed(true);
        tblVentas.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tblVentasMouseClicked(evt);
            }
        });
        jScrollPane10.setViewportView(tblVentas);
        tblVentas.getColumnModel().getSelectionModel().setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        tblVentas.getColumnModel().getColumn(0).setHeaderValue("Codigo");
        tblVentas.getColumnModel().getColumn(1).setHeaderValue("Usuario");
        tblVentas.getColumnModel().getColumn(2).setHeaderValue("Empleado");
        tblVentas.getColumnModel().getColumn(3).setHeaderValue("Cliente");
        tblVentas.getColumnModel().getColumn(4).setHeaderValue("Monto Total");
        tblVentas.getColumnModel().getColumn(5).setHeaderValue("Fecha");

        dateVenta.setMaxSelectableDate(Calendar.getInstance().getTime());

        javax.swing.GroupLayout jPanel10Layout = new javax.swing.GroupLayout(jPanel10);
        jPanel10.setLayout(jPanel10Layout);
        jPanel10Layout.setHorizontalGroup(
            jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel10Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(lblCriterioBusqueda2)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(cmbCriterioVenta, javax.swing.GroupLayout.PREFERRED_SIZE, 149, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(344, 344, 344)
                .addComponent(lblBuscar5)
                .addGap(18, 18, 18)
                .addComponent(txtBuscarVentas, javax.swing.GroupLayout.PREFERRED_SIZE, 257, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(dateVenta, javax.swing.GroupLayout.PREFERRED_SIZE, 180, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 170, Short.MAX_VALUE))
            .addComponent(jScrollPane10)
        );
        jPanel10Layout.setVerticalGroup(
            jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel10Layout.createSequentialGroup()
                .addGap(17, 17, 17)
                .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(txtBuscarVentas, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(lblBuscar5)
                        .addComponent(lblCriterioBusqueda2)
                        .addComponent(cmbCriterioVenta, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(dateVenta, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jScrollPane10, javax.swing.GroupLayout.DEFAULT_SIZE, 488, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout tbpVentasLayout = new javax.swing.GroupLayout(tbpVentas);
        tbpVentas.setLayout(tbpVentasLayout);
        tbpVentasLayout.setHorizontalGroup(
            tbpVentasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpVentasLayout.createSequentialGroup()
                .addComponent(jPanel10, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
            .addGroup(tbpVentasLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(btnVentas, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        tbpVentasLayout.setVerticalGroup(
            tbpVentasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpVentasLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(btnVentas, javax.swing.GroupLayout.PREFERRED_SIZE, 77, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel10, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        tbpPrincipal.addTab("Ventas", tbpVentas);

        tbpArticulos.setBackground(new java.awt.Color(204, 204, 204));

        btnArticulo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/1404932931_sport-shoes.png"))); // NOI18N
        btnArticulo.setText("Articulos");
        btnArticulo.setDefaultCapable(false);
        btnArticulo.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnArticulo.setIconTextGap(-1);
        btnArticulo.setMaximumSize(new java.awt.Dimension(77, 44));
        btnArticulo.setMinimumSize(new java.awt.Dimension(77, 44));
        btnArticulo.setPreferredSize(new java.awt.Dimension(77, 44));
        btnArticulo.setVerifyInputWhenFocusTarget(false);
        btnArticulo.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnArticulo.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnArticuloMouseClicked(evt);
            }
        });
        btnArticulo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnArticuloActionPerformed(evt);
            }
        });

        btnMarca.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/registered-trademark-symbol-7314.png"))); // NOI18N
        btnMarca.setText("Marca");
        btnMarca.setDefaultCapable(false);
        btnMarca.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnMarca.setIconTextGap(-1);
        btnMarca.setVerifyInputWhenFocusTarget(false);
        btnMarca.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnMarca.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnMarcaActionPerformed(evt);
            }
        });

        btnCategoria.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/Categ1.png"))); // NOI18N
        btnCategoria.setText("Categoria");
        btnCategoria.setDefaultCapable(false);
        btnCategoria.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnCategoria.setIconTextGap(-1);
        btnCategoria.setVerifyInputWhenFocusTarget(false);
        btnCategoria.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnCategoria.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCategoriaActionPerformed(evt);
            }
        });

        tblArticulos.setAutoCreateRowSorter(true);
        tblArticulos.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Codigo de Barra", "Nombre", "Marca", "Color", "Color2", "Categoria", "Categoria2", "Stock", "Precio"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        tblArticulos.getTableHeader().setReorderingAllowed(false);
        jScrollPane4.setViewportView(tblArticulos);
        tblArticulos.getColumnModel().getColumn(0).setHeaderValue("Codigo de Barra");
        tblArticulos.getColumnModel().getColumn(1).setHeaderValue("Nombre");
        tblArticulos.getColumnModel().getColumn(2).setHeaderValue("Marca");
        tblArticulos.getColumnModel().getColumn(3).setHeaderValue("Color");
        tblArticulos.getColumnModel().getColumn(4).setHeaderValue("Color2");
        tblArticulos.getColumnModel().getColumn(5).setHeaderValue("Categoria");
        tblArticulos.getColumnModel().getColumn(6).setHeaderValue("Categoria2");
        tblArticulos.getColumnModel().getColumn(7).setHeaderValue("Stock");
        tblArticulos.getColumnModel().getColumn(8).setHeaderValue("Precio");

        lblCriterioBusqueda3.setText("Criterio de Busqueda:");

        cmbCriterioArticulo.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Busqueda Inteligente", "Codigo de Barra", "Nombre", "Marca", "Color", "Categoria" }));

        lblBuscar6.setText("Buscar");

        txtBuscarArticulos.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                txtBuscarArticulosCaretUpdate(evt);
            }
        });
        txtBuscarArticulos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtBuscarArticulosActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel11Layout = new javax.swing.GroupLayout(jPanel11);
        jPanel11.setLayout(jPanel11Layout);
        jPanel11Layout.setHorizontalGroup(
            jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel11Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane4))
            .addGroup(jPanel11Layout.createSequentialGroup()
                .addGap(22, 22, 22)
                .addComponent(lblCriterioBusqueda3)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(cmbCriterioArticulo, javax.swing.GroupLayout.PREFERRED_SIZE, 149, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(344, 344, 344)
                .addComponent(lblBuscar6)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(txtBuscarArticulos, javax.swing.GroupLayout.PREFERRED_SIZE, 257, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 358, Short.MAX_VALUE))
        );
        jPanel11Layout.setVerticalGroup(
            jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel11Layout.createSequentialGroup()
                .addGap(17, 17, 17)
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtBuscarArticulos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblBuscar6)
                    .addComponent(lblCriterioBusqueda3)
                    .addComponent(cmbCriterioArticulo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(34, Short.MAX_VALUE))
        );

        btnArticulo1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/1404932931_sport-shoes.png"))); // NOI18N
        btnArticulo1.setText("<html>Articulos<br />en Vidriera<html>");
        btnArticulo1.setDefaultCapable(false);
        btnArticulo1.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnArticulo1.setIconTextGap(-1);
        btnArticulo1.setMaximumSize(new java.awt.Dimension(77, 44));
        btnArticulo1.setMinimumSize(new java.awt.Dimension(77, 44));
        btnArticulo1.setPreferredSize(new java.awt.Dimension(77, 44));
        btnArticulo1.setVerifyInputWhenFocusTarget(false);
        btnArticulo1.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnArticulo1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnArticulo1MouseClicked(evt);
            }
        });
        btnArticulo1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnArticulo1ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout tbpArticulosLayout = new javax.swing.GroupLayout(tbpArticulos);
        tbpArticulos.setLayout(tbpArticulosLayout);
        tbpArticulosLayout.setHorizontalGroup(
            tbpArticulosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpArticulosLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(btnArticulo, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(80, 80, 80)
                .addComponent(btnCategoria, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(80, 80, 80)
                .addComponent(btnMarca, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(80, 80, 80)
                .addComponent(btnArticulo1, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addComponent(jPanel11, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        tbpArticulosLayout.setVerticalGroup(
            tbpArticulosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpArticulosLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(tbpArticulosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addComponent(btnMarca, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(btnCategoria, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(btnArticulo, javax.swing.GroupLayout.DEFAULT_SIZE, 77, Short.MAX_VALUE)
                    .addComponent(btnArticulo1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(18, 18, 18)
                .addComponent(jPanel11, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGap(19, 19, 19))
        );

        btnArticulo.getAccessibleContext().setAccessibleDescription("");

        tbpPrincipal.addTab("Articulos", tbpArticulos);

        tbpInformes.setBackground(new java.awt.Color(204, 204, 204));

        jLabel8.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos/1413595967_ViewResults.png"))); // NOI18N
        jLabel8.setText("Criterio");

        cbx_filtro1.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Dia En Particular", "Periodo" }));
        cbx_filtro1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                cbx_filtro1MouseClicked(evt);
            }
        });
        cbx_filtro1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbx_filtro1ActionPerformed(evt);
            }
        });

        jLabel9.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos/1413598467_edit-find-replace-24.png"))); // NOI18N
        jLabel9.setText("Tabla");

        cmbCV.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "VENTA", "COMPRA" }));
        cmbCV.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                cmbCVMouseClicked(evt);
            }
        });
        cmbCV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmbCVActionPerformed(evt);
            }
        });

        lblDesde.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos/1405279692_678120-calendar-clock.png"))); // NOI18N
        lblDesde.setText("Desde");

        lblHasta.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos/1405279692_678120-calendar-clock.png"))); // NOI18N
        lblHasta.setText("Hasta");

        btn_ver1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos/1412647870_filter.png"))); // NOI18N
        btn_ver1.setText("Ver Filtro");
        btn_ver1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_ver1ActionPerformed(evt);
            }
        });

        btnAceptar2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos/1413598038_Clipboard.png"))); // NOI18N
        btnAceptar2.setText("Generar Reporte");
        btnAceptar2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnAceptar2ActionPerformed(evt);
            }
        });

        tablaEstadistica.setAutoCreateRowSorter(true);
        tablaEstadistica.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Marca", "Precio", "Cantidad"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        tablaEstadistica.getTableHeader().setReorderingAllowed(false);
        jScrollPane9.setViewportView(tablaEstadistica);
        tablaEstadistica.getColumnModel().getColumn(0).setHeaderValue("Marca");
        tablaEstadistica.getColumnModel().getColumn(1).setHeaderValue("Precio");
        tablaEstadistica.getColumnModel().getColumn(2).setHeaderValue("Cantidad");

        javax.swing.GroupLayout tbpInformesLayout = new javax.swing.GroupLayout(tbpInformes);
        tbpInformes.setLayout(tbpInformesLayout);
        tbpInformesLayout.setHorizontalGroup(
            tbpInformesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpInformesLayout.createSequentialGroup()
                .addGroup(tbpInformesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(tbpInformesLayout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(tbpInformesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel9)
                            .addComponent(jLabel8))
                        .addGap(31, 31, 31)
                        .addGroup(tbpInformesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(cbx_filtro1, javax.swing.GroupLayout.PREFERRED_SIZE, 209, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(cmbCV, javax.swing.GroupLayout.PREFERRED_SIZE, 209, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(tbpInformesLayout.createSequentialGroup()
                        .addGap(87, 87, 87)
                        .addComponent(btn_ver1)))
                .addContainerGap(981, Short.MAX_VALUE))
            .addGroup(tbpInformesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(tbpInformesLayout.createSequentialGroup()
                    .addContainerGap()
                    .addGroup(tbpInformesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(tbpInformesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, tbpInformesLayout.createSequentialGroup()
                                .addGroup(tbpInformesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(lblDesde)
                                    .addComponent(lblHasta))
                                .addGap(266, 266, 266))
                            .addGroup(tbpInformesLayout.createSequentialGroup()
                                .addGap(95, 95, 95)
                                .addGroup(tbpInformesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(calDesde, javax.swing.GroupLayout.PREFERRED_SIZE, 209, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(calHasta, javax.swing.GroupLayout.PREFERRED_SIZE, 209, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addGroup(tbpInformesLayout.createSequentialGroup()
                            .addGap(72, 72, 72)
                            .addComponent(btnAceptar2)))
                    .addComponent(jScrollPane9, javax.swing.GroupLayout.DEFAULT_SIZE, 940, Short.MAX_VALUE)
                    .addContainerGap()))
        );
        tbpInformesLayout.setVerticalGroup(
            tbpInformesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpInformesLayout.createSequentialGroup()
                .addGap(155, 155, 155)
                .addGroup(tbpInformesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel8)
                    .addComponent(cbx_filtro1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(37, 37, 37)
                .addGroup(tbpInformesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel9)
                    .addComponent(cmbCV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 222, Short.MAX_VALUE)
                .addComponent(btn_ver1)
                .addGap(130, 130, 130))
            .addGroup(tbpInformesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(tbpInformesLayout.createSequentialGroup()
                    .addGap(6, 6, 6)
                    .addGroup(tbpInformesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(tbpInformesLayout.createSequentialGroup()
                            .addGap(277, 277, 277)
                            .addGroup(tbpInformesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(lblDesde, javax.swing.GroupLayout.Alignment.TRAILING)
                                .addComponent(calDesde, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGap(41, 41, 41)
                            .addGroup(tbpInformesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(lblHasta)
                                .addComponent(calHasta, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 180, Short.MAX_VALUE)
                            .addComponent(btnAceptar2)
                            .addGap(26, 26, 26))
                        .addComponent(jScrollPane9, javax.swing.GroupLayout.Alignment.TRAILING))
                    .addGap(6, 6, 6)))
        );

        tbpPrincipal.addTab("Estadistica", tbpInformes);

        tbpEmpleados.setBackground(new java.awt.Color(255, 255, 255));

        btnComision.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/1405278379_23.png"))); // NOI18N
        btnComision.setText("Comision");
        btnComision.setDefaultCapable(false);
        btnComision.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnComision.setIconTextGap(-1);
        btnComision.setVerifyInputWhenFocusTarget(false);
        btnComision.setVerticalAlignment(javax.swing.SwingConstants.BOTTOM);
        btnComision.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnComision.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnComisionActionPerformed(evt);
            }
        });

        btnEmpleados.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/1410423284_personal.png"))); // NOI18N
        btnEmpleados.setText("Empleados");
        btnEmpleados.setDefaultCapable(false);
        btnEmpleados.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnEmpleados.setIconTextGap(-1);
        btnEmpleados.setVerifyInputWhenFocusTarget(false);
        btnEmpleados.setVerticalAlignment(javax.swing.SwingConstants.BOTTOM);
        btnEmpleados.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnEmpleados.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnEmpleadosMouseClicked(evt);
            }
        });
        btnEmpleados.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnEmpleadosActionPerformed(evt);
            }
        });

        tblEmpleados.setAutoCreateRowSorter(true);
        tblEmpleados.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null}
            },
            new String [] {
                "Nro Documento", "Nombre y Apellido", "Telefono", "Domicilio", "Comision"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        tblEmpleados.getTableHeader().setReorderingAllowed(false);
        tblEmpleados.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tblEmpleadosMouseClicked(evt);
            }
        });
        jScrollPane5.setViewportView(tblEmpleados);
        tblEmpleados.getColumnModel().getColumn(0).setHeaderValue("Nro Documento");
        tblEmpleados.getColumnModel().getColumn(1).setHeaderValue("Nombre y Apellido");
        tblEmpleados.getColumnModel().getColumn(2).setHeaderValue("Telefono");
        tblEmpleados.getColumnModel().getColumn(3).setHeaderValue("Domicilio");
        tblEmpleados.getColumnModel().getColumn(4).setHeaderValue("Comision");

        lblCriterioBusqueda4.setText("Criterio de Busqueda:");

        cmbCriteriEmpleado.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Busqueda Inteligente", "Nro Doc", "Nombre", "Apellido", "Domicilio" }));

        lblBuscar7.setText("Buscar");

        txtBuscarEmpleado.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                txtBuscarEmpleadoCaretUpdate(evt);
            }
        });
        txtBuscarEmpleado.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtBuscarEmpleadoActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel12Layout = new javax.swing.GroupLayout(jPanel12);
        jPanel12.setLayout(jPanel12Layout);
        jPanel12Layout.setHorizontalGroup(
            jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel12Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane5)
                    .addGroup(jPanel12Layout.createSequentialGroup()
                        .addComponent(lblCriterioBusqueda4)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(cmbCriteriEmpleado, javax.swing.GroupLayout.PREFERRED_SIZE, 149, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(344, 344, 344)
                        .addComponent(lblBuscar7)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(txtBuscarEmpleado, javax.swing.GroupLayout.PREFERRED_SIZE, 257, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 368, Short.MAX_VALUE))))
        );
        jPanel12Layout.setVerticalGroup(
            jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel12Layout.createSequentialGroup()
                .addGap(11, 11, 11)
                .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtBuscarEmpleado, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblBuscar7)
                    .addComponent(lblCriterioBusqueda4)
                    .addComponent(cmbCriteriEmpleado, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(jScrollPane5, javax.swing.GroupLayout.DEFAULT_SIZE, 451, Short.MAX_VALUE)
                .addContainerGap())
        );

        javax.swing.GroupLayout tbpEmpleadosLayout = new javax.swing.GroupLayout(tbpEmpleados);
        tbpEmpleados.setLayout(tbpEmpleadosLayout);
        tbpEmpleadosLayout.setHorizontalGroup(
            tbpEmpleadosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpEmpleadosLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(btnEmpleados, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(80, 80, 80)
                .addComponent(btnComision, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addComponent(jPanel12, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        tbpEmpleadosLayout.setVerticalGroup(
            tbpEmpleadosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpEmpleadosLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(tbpEmpleadosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(btnEmpleados, javax.swing.GroupLayout.DEFAULT_SIZE, 68, Short.MAX_VALUE)
                    .addComponent(btnComision, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(27, 27, 27)
                .addComponent(jPanel12, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );

        tbpPrincipal.addTab("Empleados", tbpEmpleados);

        tbpCaja.setBackground(new java.awt.Color(255, 255, 255));

        btnAperturaCaja.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/AperturaCaja.png"))); // NOI18N
        btnAperturaCaja.setText("<html>Apertura<br />Caja<html>");
        btnAperturaCaja.setDefaultCapable(false);
        btnAperturaCaja.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnAperturaCaja.setIconTextGap(-1);
        btnAperturaCaja.setVerifyInputWhenFocusTarget(false);
        btnAperturaCaja.setVerticalAlignment(javax.swing.SwingConstants.BOTTOM);
        btnAperturaCaja.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnAperturaCaja.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnAperturaCajaMouseClicked(evt);
            }
        });
        btnAperturaCaja.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnAperturaCajaActionPerformed(evt);
            }
        });

        btnCierreCaja.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/cierrecaja.png"))); // NOI18N
        btnCierreCaja.setText("<html>Cierre<br />Caja<html>");
        btnCierreCaja.setDefaultCapable(false);
        btnCierreCaja.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnCierreCaja.setIconTextGap(-1);
        btnCierreCaja.setVerifyInputWhenFocusTarget(false);
        btnCierreCaja.setVerticalAlignment(javax.swing.SwingConstants.BOTTOM);
        btnCierreCaja.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnCierreCaja.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnCierreCajaMouseClicked(evt);
            }
        });
        btnCierreCaja.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCierreCajaActionPerformed(evt);
            }
        });

        tblCaja.setAutoCreateRowSorter(true);
        tblCaja.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Codigo de Caja", "Fecha de Apertura Caja", "Empleado Apertura Caja", "Fecha de Cierre de Caja", "Empleado Cierre Caja", "Monto Total de Ventas"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, true
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        tblCaja.getTableHeader().setReorderingAllowed(false);
        jScrollPane6.setViewportView(tblCaja);
        tblCaja.getColumnModel().getColumn(0).setHeaderValue("Codigo de Caja");
        tblCaja.getColumnModel().getColumn(1).setHeaderValue("Fecha de Apertura Caja");
        tblCaja.getColumnModel().getColumn(2).setHeaderValue("Empleado Apertura Caja");
        tblCaja.getColumnModel().getColumn(3).setHeaderValue("Fecha de Cierre de Caja");
        tblCaja.getColumnModel().getColumn(4).setHeaderValue("Empleado Cierre Caja");
        tblCaja.getColumnModel().getColumn(5).setHeaderValue("Monto Total de Ventas");

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane6, javax.swing.GroupLayout.PREFERRED_SIZE, 1272, javax.swing.GroupLayout.PREFERRED_SIZE)
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel6Layout.createSequentialGroup()
                .addGap(0, 58, Short.MAX_VALUE)
                .addComponent(jScrollPane6, javax.swing.GroupLayout.PREFERRED_SIZE, 468, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        javax.swing.GroupLayout tbpCajaLayout = new javax.swing.GroupLayout(tbpCaja);
        tbpCaja.setLayout(tbpCajaLayout);
        tbpCajaLayout.setHorizontalGroup(
            tbpCajaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpCajaLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(btnAperturaCaja, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(80, 80, 80)
                .addComponent(btnCierreCaja, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addComponent(jPanel6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        tbpCajaLayout.setVerticalGroup(
            tbpCajaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpCajaLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(tbpCajaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(btnCierreCaja, javax.swing.GroupLayout.PREFERRED_SIZE, 68, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnAperturaCaja, javax.swing.GroupLayout.PREFERRED_SIZE, 68, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(26, 26, 26)
                .addComponent(jPanel6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        tbpPrincipal.addTab("Caja", tbpCaja);

        tbpSeguridad.setBackground(new java.awt.Color(255, 255, 255));

        btnUsuarios.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/1409707776_stock_person.png"))); // NOI18N
        btnUsuarios.setText("Usuarios");
        btnUsuarios.setDefaultCapable(false);
        btnUsuarios.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnUsuarios.setIconTextGap(-1);
        btnUsuarios.setVerifyInputWhenFocusTarget(false);
        btnUsuarios.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnUsuarios.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnUsuariosActionPerformed(evt);
            }
        });

        btnRoles.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/1404959593_user-group.png"))); // NOI18N
        btnRoles.setText("Roles");
        btnRoles.setDefaultCapable(false);
        btnRoles.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnRoles.setIconTextGap(-1);
        btnRoles.setVerifyInputWhenFocusTarget(false);
        btnRoles.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnRoles.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnRolesActionPerformed(evt);
            }
        });

        btnUsuarios2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/backup.png"))); // NOI18N
        btnUsuarios2.setText("Backups");
        btnUsuarios2.setDefaultCapable(false);
        btnUsuarios2.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnUsuarios2.setIconTextGap(-1);
        btnUsuarios2.setVerifyInputWhenFocusTarget(false);
        btnUsuarios2.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnUsuarios2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnUsuarios2ActionPerformed(evt);
            }
        });

        tblUsuarios.setAutoCreateRowSorter(true);
        tblUsuarios.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null}
            },
            new String [] {
                "Nro Documento", "Nombre", "Apellido", "Domicilio", "Telefono", "Usuario", "Contrasea"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        tblUsuarios.getTableHeader().setReorderingAllowed(false);
        jScrollPane3.setViewportView(tblUsuarios);
        tblUsuarios.getColumnModel().getColumn(0).setHeaderValue("Nro Documento");
        tblUsuarios.getColumnModel().getColumn(1).setHeaderValue("Nombre");
        tblUsuarios.getColumnModel().getColumn(2).setHeaderValue("Apellido");
        tblUsuarios.getColumnModel().getColumn(3).setHeaderValue("Domicilio");
        tblUsuarios.getColumnModel().getColumn(4).setHeaderValue("Telefono");
        tblUsuarios.getColumnModel().getColumn(5).setHeaderValue("Usuario");
        tblUsuarios.getColumnModel().getColumn(6).setHeaderValue("Contrasea");

        lblCriterioBusqueda5.setText("Criterio de Busqueda:");

        cmbCriteriUsuario.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Busqueda Inteligente", "Nro Doc", "Nombre", "Apellido", "Domicilio" }));

        lblBuscar8.setText("Buscar");

        txtBuscarUsuario.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                txtBuscarUsuarioCaretUpdate(evt);
            }
        });
        txtBuscarUsuario.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtBuscarUsuarioActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane3)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(30, 30, 30)
                .addComponent(lblCriterioBusqueda5)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(cmbCriteriUsuario, javax.swing.GroupLayout.PREFERRED_SIZE, 149, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(344, 344, 344)
                .addComponent(lblBuscar8)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(txtBuscarUsuario, javax.swing.GroupLayout.PREFERRED_SIZE, 257, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(333, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addGap(0, 63, Short.MAX_VALUE)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtBuscarUsuario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblBuscar8)
                    .addComponent(lblCriterioBusqueda5)
                    .addComponent(cmbCriteriUsuario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 390, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        jTabbedPane1.addTab("Usuarios", jPanel1);

        jTable2.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Nombre", "Compras", "Ventas", "Proveedores"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                true, false, false, true
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jScrollPane7.setViewportView(jTable2);
        jTable2.getColumnModel().getColumn(0).setHeaderValue("Nombre");
        jTable2.getColumnModel().getColumn(1).setHeaderValue("Compras");
        jTable2.getColumnModel().getColumn(2).setHeaderValue("Ventas");
        jTable2.getColumnModel().getColumn(3).setHeaderValue("Proveedores");

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane7, javax.swing.GroupLayout.DEFAULT_SIZE, 1279, Short.MAX_VALUE)
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                .addGap(107, 107, 107)
                .addComponent(jScrollPane7, javax.swing.GroupLayout.DEFAULT_SIZE, 385, Short.MAX_VALUE))
        );

        jTabbedPane1.addTab("tab2", jPanel2);

        javax.swing.GroupLayout tbpSeguridadLayout = new javax.swing.GroupLayout(tbpSeguridad);
        tbpSeguridad.setLayout(tbpSeguridadLayout);
        tbpSeguridadLayout.setHorizontalGroup(
            tbpSeguridadLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpSeguridadLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(btnUsuarios, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(80, 80, 80)
                .addComponent(btnRoles, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(80, 80, 80)
                .addComponent(btnUsuarios2, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(tbpSeguridadLayout.createSequentialGroup()
                .addComponent(jTabbedPane1)
                .addContainerGap())
        );
        tbpSeguridadLayout.setVerticalGroup(
            tbpSeguridadLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpSeguridadLayout.createSequentialGroup()
                .addGap(22, 22, 22)
                .addGroup(tbpSeguridadLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(btnUsuarios, javax.swing.GroupLayout.PREFERRED_SIZE, 76, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnUsuarios2, javax.swing.GroupLayout.PREFERRED_SIZE, 76, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnRoles, javax.swing.GroupLayout.PREFERRED_SIZE, 76, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(jTabbedPane1))
        );

        tbpPrincipal.addTab("Seguridad", tbpSeguridad);

        btnRoles1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/1411597261_checkout.png"))); // NOI18N
        btnRoles1.setText("Tipo Pago");
        btnRoles1.setDefaultCapable(false);
        btnRoles1.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnRoles1.setIconTextGap(-1);
        btnRoles1.setVerifyInputWhenFocusTarget(false);
        btnRoles1.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnRoles1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnRoles1ActionPerformed(evt);
            }
        });

        btnEmpresa.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/1411597462_agency.png"))); // NOI18N
        btnEmpresa.setText("<html>Datos de<br /> la Empresa<html>");
        btnEmpresa.setDefaultCapable(false);
        btnEmpresa.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnEmpresa.setIconTextGap(-1);
        btnEmpresa.setVerifyInputWhenFocusTarget(false);
        btnEmpresa.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnEmpresa.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnEmpresaActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout tbpParamentrosLayout = new javax.swing.GroupLayout(tbpParamentros);
        tbpParamentros.setLayout(tbpParamentrosLayout);
        tbpParamentrosLayout.setHorizontalGroup(
            tbpParamentrosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpParamentrosLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(btnRoles1, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(79, 79, 79)
                .addComponent(btnEmpresa, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(1031, Short.MAX_VALUE))
        );
        tbpParamentrosLayout.setVerticalGroup(
            tbpParamentrosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpParamentrosLayout.createSequentialGroup()
                .addGap(22, 22, 22)
                .addGroup(tbpParamentrosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(btnRoles1, javax.swing.GroupLayout.PREFERRED_SIZE, 76, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnEmpresa, javax.swing.GroupLayout.PREFERRED_SIZE, 76, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(533, Short.MAX_VALUE))
        );

        tbpPrincipal.addTab("Parametros", tbpParamentros);

        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos/1413595967_ViewResults.png"))); // NOI18N
        jLabel1.setText("Criterio");

        jLabel2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos/1413598467_edit-find-replace-24.png"))); // NOI18N
        jLabel2.setText("Operacion");

        jLabel3.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos/1409707776_stock_person.png"))); // NOI18N
        jLabel3.setText("Usuario");

        jLabel4.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos/1413599463_Generate-tables.png"))); // NOI18N
        jLabel4.setText("Clase");

        jLabel5.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos/1405279692_678120-calendar-clock.png"))); // NOI18N
        jLabel5.setText("Desde");

        jLabel6.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos/1405279692_678120-calendar-clock.png"))); // NOI18N
        jLabel6.setText("Hasta");

        jLabel7.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos/1413599083_519902-130_ArrowRightDouble-24.png"))); // NOI18N
        jLabel7.setText("Ver Todos");

        cbx_filtro.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Dia En Particular", "Periodo" }));
        cbx_filtro.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                cbx_filtroMouseClicked(evt);
            }
        });
        cbx_filtro.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbx_filtroActionPerformed(evt);
            }
        });

        CBUsuario.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                CBUsuarioMouseClicked(evt);
            }
        });
        CBUsuario.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                CBUsuarioActionPerformed(evt);
            }
        });

        cbx_accion.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "ALTA", "BAJA", "MODIFICACION", "TODOS" }));
        cbx_accion.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                cbx_accionMouseClicked(evt);
            }
        });
        cbx_accion.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbx_accionActionPerformed(evt);
            }
        });

        CBUsuario1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                CBUsuario1MouseClicked(evt);
            }
        });
        CBUsuario1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                CBUsuario1ActionPerformed(evt);
            }
        });

        jRadioButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jRadioButton1ActionPerformed(evt);
            }
        });

        jTableAuditoria.setAutoCreateRowSorter(true);
        jTableAuditoria.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Operacion", "Tabla", "Usuario", "Fecha", "Hora", "Dato", "Detalle"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jTableAuditoria.getTableHeader().setReorderingAllowed(false);
        jScrollPane8.setViewportView(jTableAuditoria);
        jTableAuditoria.getColumnModel().getColumn(0).setHeaderValue("Operacion");
        jTableAuditoria.getColumnModel().getColumn(1).setHeaderValue("Tabla");
        jTableAuditoria.getColumnModel().getColumn(2).setHeaderValue("Usuario");
        jTableAuditoria.getColumnModel().getColumn(3).setHeaderValue("Fecha");
        jTableAuditoria.getColumnModel().getColumn(4).setHeaderValue("Hora");
        jTableAuditoria.getColumnModel().getColumn(5).setHeaderValue("Dato");
        jTableAuditoria.getColumnModel().getColumn(6).setHeaderValue("Detalle");

        jButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos/1405278379_23.png"))); // NOI18N
        jButton1.setText("Caja");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        btn_ver.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos/1412647870_filter.png"))); // NOI18N
        btn_ver.setText("Ver Filtro");
        btn_ver.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_verActionPerformed(evt);
            }
        });

        btnAceptar1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos/1413598038_Clipboard.png"))); // NOI18N
        btnAceptar1.setText("Generar Reporte");
        btnAceptar1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnAceptar1ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout tbpAuditoriaLayout = new javax.swing.GroupLayout(tbpAuditoria);
        tbpAuditoria.setLayout(tbpAuditoriaLayout);
        tbpAuditoriaLayout.setHorizontalGroup(
            tbpAuditoriaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpAuditoriaLayout.createSequentialGroup()
                .addGroup(tbpAuditoriaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(tbpAuditoriaLayout.createSequentialGroup()
                        .addGap(30, 30, 30)
                        .addComponent(jButton1)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(btn_ver)
                        .addGap(58, 58, 58))
                    .addGroup(tbpAuditoriaLayout.createSequentialGroup()
                        .addGroup(tbpAuditoriaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(tbpAuditoriaLayout.createSequentialGroup()
                                .addContainerGap()
                                .addGroup(tbpAuditoriaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, tbpAuditoriaLayout.createSequentialGroup()
                                        .addGroup(tbpAuditoriaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(jLabel4)
                                            .addComponent(jLabel5)
                                            .addComponent(jLabel6))
                                        .addGap(266, 266, 266))
                                    .addGroup(tbpAuditoriaLayout.createSequentialGroup()
                                        .addComponent(jLabel7)
                                        .addGap(76, 76, 76)
                                        .addComponent(jRadioButton1))
                                    .addGroup(tbpAuditoriaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                        .addGroup(javax.swing.GroupLayout.Alignment.LEADING, tbpAuditoriaLayout.createSequentialGroup()
                                            .addComponent(jLabel1)
                                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                            .addComponent(cbx_filtro, javax.swing.GroupLayout.PREFERRED_SIZE, 209, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGroup(javax.swing.GroupLayout.Alignment.LEADING, tbpAuditoriaLayout.createSequentialGroup()
                                            .addGroup(tbpAuditoriaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                .addComponent(jLabel2)
                                                .addComponent(jLabel3))
                                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                            .addGroup(tbpAuditoriaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                .addComponent(CBUsuario1, javax.swing.GroupLayout.PREFERRED_SIZE, 209, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addGroup(tbpAuditoriaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                                    .addComponent(CBUsuario, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                    .addComponent(cbx_accion, 0, 209, Short.MAX_VALUE))
                                                .addComponent(dp_desde, javax.swing.GroupLayout.PREFERRED_SIZE, 209, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addComponent(dp_hasta, javax.swing.GroupLayout.PREFERRED_SIZE, 209, javax.swing.GroupLayout.PREFERRED_SIZE))))))
                            .addGroup(tbpAuditoriaLayout.createSequentialGroup()
                                .addGap(84, 84, 84)
                                .addComponent(btnAceptar1)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                .addComponent(jScrollPane8, javax.swing.GroupLayout.PREFERRED_SIZE, 950, javax.swing.GroupLayout.PREFERRED_SIZE))
        );
        tbpAuditoriaLayout.setVerticalGroup(
            tbpAuditoriaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tbpAuditoriaLayout.createSequentialGroup()
                .addGap(55, 55, 55)
                .addGroup(tbpAuditoriaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel1)
                    .addComponent(cbx_filtro, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(37, 37, 37)
                .addGroup(tbpAuditoriaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel2)
                    .addComponent(cbx_accion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(31, 31, 31)
                .addGroup(tbpAuditoriaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel3)
                    .addComponent(CBUsuario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(34, 34, 34)
                .addGroup(tbpAuditoriaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(CBUsuario1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(37, 37, 37)
                .addGroup(tbpAuditoriaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel5, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(dp_desde, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(41, 41, 41)
                .addGroup(tbpAuditoriaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel6)
                    .addComponent(dp_hasta, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(33, 33, 33)
                .addGroup(tbpAuditoriaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jRadioButton1)
                    .addComponent(jLabel7))
                .addGap(32, 32, 32)
                .addGroup(tbpAuditoriaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jButton1)
                    .addComponent(btn_ver))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 43, Short.MAX_VALUE)
                .addComponent(btnAceptar1)
                .addGap(26, 26, 26))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, tbpAuditoriaLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane8))
        );

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(tbpAuditoria, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(tbpAuditoria, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        tbpPrincipal.addTab("Auditoria", jPanel3);

        jPanel5.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));

        jLabel12.setText("fecha:");

        lblFecha.setText("Usuario: ");

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap(89, Short.MAX_VALUE)
                .addComponent(jLabel12)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(lblFecha)
                .addGap(137, 137, 137))
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel12)
                    .addComponent(lblFecha))
                .addGap(0, 5, Short.MAX_VALUE))
        );

        jLabel11.setText("Usuario: ");

        lblUsuarioActual.setText("label");

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addGap(25, 25, 25)
                .addComponent(jLabel11)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(lblUsuarioActual)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
            .addComponent(tbpPrincipal)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(tbpPrincipal)
                .addGap(8, 8, 8)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel11)
                        .addComponent(lblUsuarioActual)))
                .addContainerGap())
        );

        setBounds(0, 0, 1317, 736);
    }//GEN-END:initComponents

    private void btnProveedoresActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnProveedoresActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_btnProveedoresActionPerformed

    private void btnComisionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnComisionActionPerformed
        GuiComision comision = new GuiComision(unaEmpresa);
        comision.setVisible(true);
    }//GEN-LAST:event_btnComisionActionPerformed

    private void btnEmpleadosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnEmpleadosActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_btnEmpleadosActionPerformed

    private void btnUsuariosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnUsuariosActionPerformed
        GuiUsuarios vUsu = new GuiUsuarios(unaEmpresa);
        vUsu.setVisible(true);
    }//GEN-LAST:event_btnUsuariosActionPerformed

    private void btnAperturaCajaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnAperturaCajaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_btnAperturaCajaActionPerformed

    private void btnCierreCajaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCierreCajaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_btnCierreCajaActionPerformed

    private void txtBuscarEntradasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtBuscarEntradasActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtBuscarEntradasActionPerformed

    private void btnArticuloActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnArticuloActionPerformed
        GuiArticulos vArt = new GuiArticulos(unaEmpresa);
        vArt.setVisible(true);
    }//GEN-LAST:event_btnArticuloActionPerformed

    private void btnArticuloMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnArticuloMouseClicked

    }//GEN-LAST:event_btnArticuloMouseClicked

    private void btnFacturaComprasMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnFacturaComprasMouseClicked
        GuiCompras vCom = new GuiCompras(unaEmpresa);
        vCom.setVisible(true);
    }//GEN-LAST:event_btnFacturaComprasMouseClicked

    private void btnProveedoresMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnProveedoresMouseClicked
        GuiProveedores vPro = new GuiProveedores(unaEmpresa);
        vPro.setVisible(true);
    }//GEN-LAST:event_btnProveedoresMouseClicked

    private void btnVentasMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnVentasMouseClicked
        boolean abierto = false;
        for (Caja unaCaja : unaEmpresa.getCajas().values()) {
            if (unaCaja.isCajaAbierta()) {
                abierto = true;
            }
        }
        if (abierto) {
            GuiVenta vVenta = new GuiVenta(unaEmpresa);
            vVenta.setVisible(true);
        } else {
            int re = JOptionPane.showConfirmDialog(null, "para realizar ventas abra la caja", null, JOptionPane.YES_NO_OPTION);
            if (re == JOptionPane.YES_OPTION) {
                GuiAperturaCaja asd = new GuiAperturaCaja(this, true, unaEmpresa);
                asd.setVisible(true);
            }
        }

    }//GEN-LAST:event_btnVentasMouseClicked

    private void btnEmpleadosMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnEmpleadosMouseClicked
        GuiUsuarios vEmp = new GuiUsuarios(unaEmpresa);
        vEmp.setVisible(true);
    }//GEN-LAST:event_btnEmpleadosMouseClicked

    private void btnAperturaCajaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnAperturaCajaMouseClicked
        if (unaEmpresa.getCajas().isEmpty()) {
            GuiAperturaCaja vCaja = new GuiAperturaCaja(this, true, unaEmpresa);
            vCaja.setVisible(true);
        } else {
            boolean estado = false;
            for (Caja unaCaja : unaEmpresa.getCajas().values()) {
                if (unaCaja.isCajaAbierta()) {
                    estado = true;
                }
            }
            if (estado)
                JOptionPane.showMessageDialog(null, "la caja ya se encuentra Cerrada");
            else {
                GuiAperturaCaja vCaja = new GuiAperturaCaja(this, true, unaEmpresa);
                vCaja.setVisible(true);
            }

        }
    }//GEN-LAST:event_btnAperturaCajaMouseClicked

    private void btnCierreCajaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnCierreCajaMouseClicked
        boolean estado = false;
        for (Caja unaCaja : unaEmpresa.getCajas().values()) {
            if (unaCaja.isCajaAbierta()) {
                estado = true;
            }
        }
        if (!estado)
            JOptionPane.showMessageDialog(null, "la caja ya se encuentra abierta");
        else {
            GuiCierreCaja vCaja = new GuiCierreCaja(this, true, unaEmpresa);
            vCaja.setVisible(true);
        }
        calculoComision();
        
    }//GEN-LAST:event_btnCierreCajaMouseClicked

    private void btnCategoriaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCategoriaActionPerformed
        GuiCategoria vCat = new GuiCategoria(unaEmpresa);
        vCat.setVisible(true);
    }//GEN-LAST:event_btnCategoriaActionPerformed

    private void btnMarcaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnMarcaActionPerformed
        GuigestionMarcas vMarca = new GuigestionMarcas(unaEmpresa);
        vMarca.setVisible(true);
    }//GEN-LAST:event_btnMarcaActionPerformed

    private void btnRolesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnRolesActionPerformed
        GuiRol vRol = new GuiRol(unaEmpresa);
        vRol.setVisible(true);
    }//GEN-LAST:event_btnRolesActionPerformed

    private void btnRoles1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnRoles1ActionPerformed
        GuiTiposPagos vTP = new GuiTiposPagos(new javax.swing.JDialog(),true,unaEmpresa);
        vTP.setVisible(true);
    }//GEN-LAST:event_btnRoles1ActionPerformed

    private void btnEmpresaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnEmpresaActionPerformed
        GuiEmpresa Empresa = new GuiEmpresa(unaEmpresa);
        Empresa.setVisible(true);
    }//GEN-LAST:event_btnEmpresaActionPerformed

    private void tbpmodificarMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tbpmodificarMouseClicked
        CargaTablaProveedores(unaEmpresa.getProveedores());
    }//GEN-LAST:event_tbpmodificarMouseClicked

    private void formWindowActivated(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowActivated

    }//GEN-LAST:event_formWindowActivated

    private void tbpPrincipalFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tbpPrincipalFocusGained
        CargaTablaArticulos(unaEmpresa.getArticulos());
    }//GEN-LAST:event_tbpPrincipalFocusGained

    private void txtBuscarEntradasCaretUpdate(javax.swing.event.CaretEvent evt) {//GEN-FIRST:event_txtBuscarEntradasCaretUpdate
        CargaTablaCompras(consultaCompra(txtBuscarEntradas.getText().toUpperCase()));        
    }//GEN-LAST:event_txtBuscarEntradasCaretUpdate

    private void txtBuscarProCaretUpdate(javax.swing.event.CaretEvent evt) {//GEN-FIRST:event_txtBuscarProCaretUpdate
        CargaTablaProveedores(consultaProveedor(txtBuscarPro.getText().toUpperCase()));
    }//GEN-LAST:event_txtBuscarProCaretUpdate

    private void txtBuscarVentasCaretUpdate(javax.swing.event.CaretEvent evt) {//GEN-FIRST:event_txtBuscarVentasCaretUpdate
        CargaTablaVentas(consultaVenta(txtBuscarVentas.getText().toUpperCase()));
    }//GEN-LAST:event_txtBuscarVentasCaretUpdate

    private void txtBuscarVentasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtBuscarVentasActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtBuscarVentasActionPerformed

    private void txtBuscarEmpleadoCaretUpdate(javax.swing.event.CaretEvent evt) {//GEN-FIRST:event_txtBuscarEmpleadoCaretUpdate
        CargaTablaEmpleados(consultaEmpleado(txtBuscarEmpleado.getText().toUpperCase()));
    }//GEN-LAST:event_txtBuscarEmpleadoCaretUpdate

    private void txtBuscarEmpleadoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtBuscarEmpleadoActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtBuscarEmpleadoActionPerformed

    private void btnUsuarios2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnUsuarios2ActionPerformed
        GuiBackups unaGui = new GuiBackups(unaEmpresa);
        unaGui.setVisible(true);
    }//GEN-LAST:event_btnUsuarios2ActionPerformed

    private void btnVentasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnVentasActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_btnVentasActionPerformed

    private void txtBuscarUsuarioCaretUpdate(javax.swing.event.CaretEvent evt) {//GEN-FIRST:event_txtBuscarUsuarioCaretUpdate
        CargaTablaUsuarios(consultaEmpleado(txtBuscarUsuario.getText().toUpperCase()));
    }//GEN-LAST:event_txtBuscarUsuarioCaretUpdate

    private void txtBuscarUsuarioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtBuscarUsuarioActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtBuscarUsuarioActionPerformed

    private void txtBuscarArticulosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtBuscarArticulosActionPerformed

    }//GEN-LAST:event_txtBuscarArticulosActionPerformed

    private void txtBuscarArticulosCaretUpdate(javax.swing.event.CaretEvent evt) {//GEN-FIRST:event_txtBuscarArticulosCaretUpdate
        CargaTablaArticulos(consultaArticulos(txtBuscarArticulos.getText().toUpperCase()));
    }//GEN-LAST:event_txtBuscarArticulosCaretUpdate

    private void btnArticulo1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnArticulo1MouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_btnArticulo1MouseClicked

    private void btnArticulo1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnArticulo1ActionPerformed
        verInformeArticulosenVidriera(); 
    }//GEN-LAST:event_btnArticulo1ActionPerformed

    private void cbx_filtroActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbx_filtroActionPerformed
        int filtro = cbx_filtro.getSelectedIndex();
        if (filtro == 0) {
            dp_desde.setEnabled(true);
            dp_hasta.setEnabled(false);

        } else {
            dp_desde.setEnabled(true);
            dp_hasta.setEnabled(true);
        }
    }//GEN-LAST:event_cbx_filtroActionPerformed

    private void cbx_filtroMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_cbx_filtroMouseClicked
        jRadioButton1.setSelected(false);
    }//GEN-LAST:event_cbx_filtroMouseClicked

    private void cbx_accionMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_cbx_accionMouseClicked
        jRadioButton1.setSelected(false);
    }//GEN-LAST:event_cbx_accionMouseClicked

    private void CBUsuarioMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_CBUsuarioMouseClicked
        jRadioButton1.setSelected(false);
    }//GEN-LAST:event_CBUsuarioMouseClicked

    private void CBUsuario1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_CBUsuario1MouseClicked
        jRadioButton1.setSelected(false);
    }//GEN-LAST:event_CBUsuario1MouseClicked

    private void cbx_accionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbx_accionActionPerformed
        colador = new LinkedList();
        Iterator it = unaEmpresa.getAuditorias().entrySet().iterator();
        while (it.hasNext()) {
            Map.Entry ent = (Map.Entry) it.next();
            Auditoria unaAudit = (Auditoria) ent.getValue();
            if (unaAudit.getOperacion().toString().equals(cbx_accion.getSelectedItem().toString()) || cbx_accion.getSelectedItem().toString().equals("TODOS")) {
                colador.add(unaAudit);
            }
        }
        this.jTableAuditoria.removeAll();
        recargar(colador);
    }//GEN-LAST:event_cbx_accionActionPerformed

    private void CBUsuarioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_CBUsuarioActionPerformed
        if (aux) {
            colador = new LinkedList();
            Iterator it = unaEmpresa.getAuditorias().entrySet().iterator();
            while (it.hasNext()) {
                Map.Entry ent = (Map.Entry) it.next();
                Auditoria unaAudit = (Auditoria) ent.getValue();
                if (unaAudit.getUsuario().toString().equals(CBUsuario.getSelectedItem().toString().toUpperCase())) {
                    colador.add(unaAudit);
                }
            }
            this.jTableAuditoria.removeAll();
            recargar(colador);
        }
    }//GEN-LAST:event_CBUsuarioActionPerformed

    private void CBUsuario1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_CBUsuario1ActionPerformed
        
        colador = new LinkedList();
        Iterator it = unaEmpresa.getAuditorias().entrySet().iterator();
        while (it.hasNext()) {
            Map.Entry ent = (Map.Entry) it.next();
            Auditoria unaAudit = (Auditoria) ent.getValue();
            if (unaAudit.getTabla().equals(CBUsuario1.getSelectedItem().toString().toUpperCase())) {
                colador.add(unaAudit);
            }
        }
        this.jTableAuditoria.removeAll();
        recargar(colador);
    }//GEN-LAST:event_CBUsuario1ActionPerformed

    private void jRadioButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jRadioButton1ActionPerformed
        colador = new LinkedList();
        Iterator it = unaEmpresa.getAuditorias().entrySet().iterator();
        while (it.hasNext()) {
            Map.Entry ent = (Map.Entry) it.next();
            Auditoria unaAudit = (Auditoria) ent.getValue();
            colador.add(unaAudit);
        }
        this.jTableAuditoria.removeAll();
        recargar(colador);
    }//GEN-LAST:event_jRadioButton1ActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        colador = new LinkedList();
        Iterator it = unaEmpresa.getAuditorias().entrySet().iterator();
        while (it.hasNext()) {
            Map.Entry ent = (Map.Entry) it.next();
            Auditoria unaAudit = (Auditoria) ent.getValue();
            if ((unaAudit.getTabla().equals("VENTA")) || (unaAudit.getTabla().equals("APERTURA CAJA")) || (unaAudit.getTabla().equals("COMPRA")) ||
                (unaAudit.getTabla().equals("CIERRE CAJA"))) {
                colador.add(unaAudit);
            }
        }
        this.jTableAuditoria.removeAll();
        recargar(colador);
    }//GEN-LAST:event_jButton1ActionPerformed

    private void btn_verActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_verActionPerformed
        colador = new LinkedList();
        if (cbx_filtro.getSelectedIndex() == 0) {
            Calendar fechaCompra = Calendar.getInstance();
            Calendar fechaDP = Calendar.getInstance();
            fechaDP.setTime(dp_desde.getDate());

            Iterator it = unaEmpresa.getAuditorias().entrySet().iterator();
            while (it.hasNext()) {
                Map.Entry ent = (Map.Entry) it.next();
                Auditoria unaCompra = (Auditoria) ent.getValue();
                fechaCompra.setTime(unaCompra.getFecha().getTime());
                if (fechaDP.get(Calendar.DAY_OF_YEAR) == fechaCompra.get(Calendar.DAY_OF_YEAR)) {
                    colador.add(unaCompra);
                }
            }
        }

        if (cbx_filtro.getSelectedIndex() == 1) {
            Calendar fechaCompra = Calendar.getInstance();
            Calendar desdee = Calendar.getInstance();
            Calendar hastaa = Calendar.getInstance();
            desdee.setTime(dp_desde.getDate());
            hastaa.setTime(dp_hasta.getDate());

            Iterator it = unaEmpresa.getAuditorias().entrySet().iterator();
            while (it.hasNext()) {
                Map.Entry ent = (Map.Entry) it.next();
                Auditoria unaAudit = (Auditoria) ent.getValue();
                fechaCompra.setTime(unaAudit.getFecha().getTime());
                if ((fechaCompra.equals(desdee) || fechaCompra.after(desdee)) && (fechaCompra.equals(hastaa) || fechaCompra.before(hastaa))) {
                    colador.add(unaAudit);
                } else if (desdee.get(Calendar.DAY_OF_YEAR) == fechaCompra.get(Calendar.DAY_OF_YEAR)) {
                    colador.add(unaAudit);
                }
            }
        }
        this.jTableAuditoria.removeAll();
        recargar(colador);
    }//GEN-LAST:event_btn_verActionPerformed
   private void btnAceptar1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tblEmpleadosMouseClicked
        if (!colador.isEmpty()) {//GEN-LAST:event_tblEmpleadosMouseClicked
            verInformeAuditoria(colador);
        } else {
            JOptionPane.showMessageDialog(null, "No existen datos que concuerden con el criterio de busqueda.");
        }
    }//GEN-LAST:event_btnAceptar1ActionPerformed

    private void btn_ver1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_ver1ActionPerformed
    if (cmbCV.getSelectedIndex() == 0)
                filtroVenta();
            else
                filtroCompra();
    }//GEN-LAST:event_btn_ver1ActionPerformed

    private void btnAceptar2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnAceptar2ActionPerformed
        verInformeAuditoria(colador);
    }//GEN-LAST:event_btnAceptar2ActionPerformed

    private void cbx_filtro1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbx_filtro1ActionPerformed
    int filtro = cbx_filtro1.getSelectedIndex();
    if (filtro == 0) {
        calDesde.setEnabled(true);
        calHasta.setEnabled(false);

    } else {
        calDesde.setEnabled(true);
        calHasta.setEnabled(true);
    }
    }//GEN-LAST:event_cbx_filtro1ActionPerformed

    private void btnFacturaComprasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnFacturaComprasActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_btnFacturaComprasActionPerformed

    private void cmbCVActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmbCVActionPerformed

    }//GEN-LAST:event_cmbCVActionPerformed

    private void cmbCVMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_cmbCVMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_cmbCVMouseClicked

    private void cbx_filtro1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_cbx_filtro1MouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_cbx_filtro1MouseClicked

    private void tblVentasMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tblVentasMouseClicked
        if (evt.getClickCount() == 2) {
            ver_Informe_Venta(Integer.parseInt(tblVentas.getValueAt(tblVentas.getSelectedRow(), 0).toString()));
        }
    }//GEN-LAST:event_tblVentasMouseClicked

    private void tblProveedoresMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tblProveedoresMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_tblProveedoresMouseClicked

    private void tblEmpleadosMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tblEmpleadosMouseClicked
        if (evt.getButton() == MouseEvent.BUTTON3) {
            menuPagar.setText("Pagar Comision a Empleado");
            menuPagarTodos.setText("Pagar Comision a todos los Empleados");
            Menu.add(menuPagar);
            Menu.add(menuPagarTodos);
            tblEmpleados.setComponentPopupMenu(Menu);
        }
    }//GEN-LAST:event_tblEmpleadosMouseClicked

    private void menuPagarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuPagarActionPerformed
        int i = tblEmpleados.getSelectedRow();
        if (i == -1) {
            JOptionPane.showMessageDialog(null, "seleccione una fila");
        } else {
            String nroEmp = tblEmpleados.getValueAt(i, 0).toString();
            unaEmpresa.pagarComision(nroEmp, 0.0);
        }
        calculoComision();
    }//GEN-LAST:event_menuPagarActionPerformed

    private void menuPagarTodosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuPagarTodosActionPerformed
        for (Empleado emp : unaEmpresa.getEmpleados().values()) {
            unaEmpresa.pagarComision(emp.getNroDocEmppleado(), 0.0);
        }
        calculoComision();
    }//GEN-LAST:event_menuPagarTodosActionPerformed

    private void cmbCriterioEntradaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmbCriterioEntradaActionPerformed
        int i = cmbCriterioEntrada.getSelectedIndex();
        if (i == 3) {
            dateCompra.setVisible(true);
            txtBuscarEntradas.setVisible(false);
        } else {
            dateCompra.setVisible(false);
            txtBuscarEntradas.setVisible(true);
        }
    }//GEN-LAST:event_cmbCriterioEntradaActionPerformed

    private void cmbCriterioVentaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmbCriterioVentaActionPerformed
        int i = cmbCriterioEntrada.getSelectedIndex();
        if (i == 3) {
            dateVenta.setVisible(true);
            txtBuscarEntradas.setVisible(false);
        } else {
            dateVenta.setVisible(false);
            txtBuscarEntradas.setVisible(true);
        }
    }//GEN-LAST:event_cmbCriterioVentaActionPerformed

    private void tblComprasMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tblComprasMouseClicked
        if (evt.getClickCount() == 2) {
            ver_Informe_Compra(Integer.parseInt(tblCompras.getValueAt(tblCompras.getSelectedRow(), 0).toString()));
        }
    }//GEN-LAST:event_tblComprasMouseClicked
  /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(GuiPrincipal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(GuiPrincipal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(GuiPrincipal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(GuiPrincipal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                GuiPrincipal.setDefaultLookAndFeelDecorated(true);
                //SubstanceLookAndFeel.setSkin(arg0)
                new GuiPrincipal().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JComboBox CBUsuario;
    private javax.swing.JComboBox CBUsuario1;
    private javax.swing.JPopupMenu Menu;
    private javax.swing.JToggleButton btnAceptar1;
    private javax.swing.JToggleButton btnAceptar2;
    private javax.swing.JButton btnAperturaCaja;
    private javax.swing.JButton btnArticulo;
    private javax.swing.JButton btnArticulo1;
    private javax.swing.JButton btnCategoria;
    private javax.swing.JButton btnCierreCaja;
    private javax.swing.JButton btnComision;
    private javax.swing.JButton btnEmpleados;
    private javax.swing.JButton btnEmpresa;
    public javax.swing.JButton btnFacturaCompras;
    private javax.swing.JButton btnMarca;
    public javax.swing.JButton btnProveedores;
    private javax.swing.JButton btnRoles;
    private javax.swing.JButton btnRoles1;
    private javax.swing.JButton btnUsuarios;
    private javax.swing.JButton btnUsuarios2;
    public javax.swing.JButton btnVentas;
    private javax.swing.JToggleButton btn_ver;
    private javax.swing.JToggleButton btn_ver1;
    private com.toedter.calendar.JDateChooser calDesde;
    private com.toedter.calendar.JDateChooser calHasta;
    private javax.swing.JComboBox cbx_accion;
    private javax.swing.JComboBox cbx_filtro;
    private javax.swing.JComboBox cbx_filtro1;
    private javax.swing.JComboBox cmbCV;
    private javax.swing.JComboBox cmbCriteriEmpleado;
    private javax.swing.JComboBox cmbCriteriUsuario;
    private javax.swing.JComboBox cmbCriterioArticulo;
    private javax.swing.JComboBox cmbCriterioEntrada;
    private javax.swing.JComboBox cmbCriterioProveedor;
    private javax.swing.JComboBox cmbCriterioVenta;
    private com.toedter.calendar.JDateChooser dateCompra;
    private com.toedter.calendar.JDateChooser dateVenta;
    private com.toedter.calendar.JDateChooser dp_desde;
    private com.toedter.calendar.JDateChooser dp_hasta;
    private javax.swing.JToggleButton jButton1;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel10;
    private javax.swing.JPanel jPanel11;
    private javax.swing.JPanel jPanel12;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JCheckBox jRadioButton1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane10;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JScrollPane jScrollPane6;
    private javax.swing.JScrollPane jScrollPane7;
    private javax.swing.JScrollPane jScrollPane8;
    private javax.swing.JScrollPane jScrollPane9;
    private javax.swing.JTabbedPane jTabbedPane1;
    private javax.swing.JTable jTable2;
    private javax.swing.JTable jTableAuditoria;
    private javax.swing.JLabel lblBuscar;
    private javax.swing.JLabel lblBuscar1;
    private javax.swing.JLabel lblBuscar5;
    private javax.swing.JLabel lblBuscar6;
    private javax.swing.JLabel lblBuscar7;
    private javax.swing.JLabel lblBuscar8;
    private javax.swing.JLabel lblCriterioBusqueda;
    private javax.swing.JLabel lblCriterioBusqueda1;
    private javax.swing.JLabel lblCriterioBusqueda2;
    private javax.swing.JLabel lblCriterioBusqueda3;
    private javax.swing.JLabel lblCriterioBusqueda4;
    private javax.swing.JLabel lblCriterioBusqueda5;
    private javax.swing.JLabel lblDesde;
    private javax.swing.JLabel lblFecha;
    private javax.swing.JLabel lblHasta;
    private javax.swing.JLabel lblUsuarioActual;
    private javax.swing.JMenuItem menuPagar;
    private javax.swing.JMenuItem menuPagarTodos;
    private javax.swing.JTable tablaEstadistica;
    private javax.swing.JTable tblArticulos;
    private javax.swing.JTable tblCaja;
    private javax.swing.JTable tblCompras;
    private javax.swing.JTable tblEmpleados;
    private javax.swing.JTable tblProveedores;
    private javax.swing.JTable tblUsuarios;
    private javax.swing.JTable tblVentas;
    public javax.swing.JPanel tbpArticulos;
    private javax.swing.JPanel tbpAuditoria;
    public javax.swing.JPanel tbpCaja;
    public javax.swing.JPanel tbpCompra;
    public javax.swing.JPanel tbpEmpleados;
    public javax.swing.JPanel tbpEntradas;
    public javax.swing.JPanel tbpInformes;
    public javax.swing.JPanel tbpParamentros;
    public javax.swing.JTabbedPane tbpPrincipal;
    public javax.swing.JPanel tbpProveedores;
    public javax.swing.JPanel tbpSeguridad;
    public javax.swing.JPanel tbpVentas;
    public javax.swing.JTabbedPane tbpmodificar;
    private org.jdesktop.swingx.JXSearchField txtBuscarArticulos;
    private org.jdesktop.swingx.JXSearchField txtBuscarEmpleado;
    private org.jdesktop.swingx.JXSearchField txtBuscarEntradas;
    private org.jdesktop.swingx.JXSearchField txtBuscarPro;
    private org.jdesktop.swingx.JXSearchField txtBuscarUsuario;
    private org.jdesktop.swingx.JXSearchField txtBuscarVentas;
    // End of variables declaration//GEN-END:variables
    
    public void calculoComision() {
        for (Empleado emp : unaEmpresa.getEmpleados().values()) {
            double monto = 0.0;
            double porcentaje = 0.0;
            for (Venta venta : unaEmpresa.getVentas().values()) {
                int i = venta.getFechaVenta().compareTo(emp.getDesde());
                if (i == 1 && (venta.getUnEmpleado().equals(emp) || venta.getUnUsuario().equals(emp))) {
                    monto = monto + venta.getTotal();
                }

            }
            porcentaje = monto * emp.getPorcentaje() / 100;
            unaEmpresa.modificarMontoComision(emp.getNroDocEmppleado(), porcentaje);
        }
        CargaTablaEmpleados(unaEmpresa.getEmpleados());
    }

    public void CargaTablaProveedores(Map proveedores) {
        DefaultTableModel modelo = (DefaultTableModel) tblProveedores.getModel();
        Collection lista;
        limpiarTabla(tblProveedores, modelo);
        lista = proveedores.values();
        if (!lista.isEmpty()) {
            int i = 0;
            for (Object unObj : lista) {
                Proveedor unPro = (Proveedor) unObj;
                modelo.addRow(new Object[] { (unPro.getCUITPro()), (unPro.getRazonSocial()), unPro.getDomPro(), unPro.getTelPro(), unPro.getSaldo() });
            }
        }
    }


    public void CargaTablaCompras(Map compras) {
        DefaultTableModel modelo = (DefaultTableModel) tblCompras.getModel();
        Collection lista;
        limpiarTabla(tblCompras, modelo);
        lista = compras.values();
        if (!lista.isEmpty()) {
            int i = 0;
            for (Object unObj : lista) {
                Compra unaCompra = (Compra) unObj;
                modelo.addRow(new Object[] {
                              unaCompra.getCodCompra(), unaCompra.getUnProveedor().getRazonSocial(), unaCompra.getUnUsuario().toString(), unaCompra.getTotal(),
                              unaCompra.getFechaHora().getTime().toLocaleString() });
            }
        }
    }

    public void CargaTablaVentas(Map ventas) {
        DefaultTableModel modelo = (DefaultTableModel) tblVentas.getModel();
        Collection lista;
        limpiarTabla(tblVentas, modelo);
        lista = ventas.values();
        if (!lista.isEmpty()) {
            for (Object unObj : lista) {
                Venta unaVenta = (Venta) unObj;
                modelo.addRow(new Object[] {
                              unaVenta.getCodVenta(), unaVenta.getUnUsuario(), unaVenta.getUnEmpleado(), unaVenta.getNombreCliente(), unaVenta.getTotal(),
                              unaVenta.getFechaVenta().getTime().toLocaleString() });
            }
        }
    }

    public void CargaTablaArticulos(Map articulos) {
        DefaultTableModel modelo = (DefaultTableModel) tblArticulos.getModel();
        limpiarTabla(tblArticulos, modelo);
        Collection lista;
        lista = articulos.values();
        if (!lista.isEmpty()) {
            for (Object unObj : lista) {
                Articulo unArt = (Articulo) unObj;
                Categoria unCa = unaEmpresa.getCategorias().get(unArt.getUnaCategoria().getCodPadre());
                modelo.addRow(new Object[] {
                              (unArt.getCodBarra()), (unArt.getNombre()), (unArt.getUnaMarca().getNombreMarca()), (unArt.getColor()), (unArt.getColor2()), (unCa.getNombre()),
                              (unArt.getUnaCategoria()), (unArt.getStock()), (unArt.getPrecioVenta())
                });
            }
        }
    }

    public void CargaTablaEmpleados(Map empleados) {
        DefaultTableModel modelo = (DefaultTableModel) tblEmpleados.getModel();
        limpiarTabla(tblEmpleados, modelo);
        Collection lista;
        lista = empleados.values();
        if (!lista.isEmpty()) {
            for (Object unObj : lista) {
                Empleado unEmp = (Empleado) unObj;
                modelo.addRow(new Object[] {
                              (unEmp.getNroDocEmppleado()), (unEmp.getNombreEmpleado() + unEmp.getApellido()), (unEmp.getTelEmpleado()), (unEmp.getDomEmpleado()),
                              unEmp.getMonto()
                });
            }
        }
    }

    public void CargaTablaUsuarios(Map empleados) {
        DefaultTableModel modelo = (DefaultTableModel) tblUsuarios.getModel();
        Collection lista;
        limpiarTabla(tblUsuarios, modelo);
        lista = empleados.values();
        if (!lista.isEmpty()) {
            int i = 0;
            for (Object unObj : lista) {
                Empleado unUs = (Empleado) unObj;
                if (unUs.getUsser() != null)
                    modelo.addRow(new Object[] {
                                  (unUs.getNroDocEmppleado()), (unUs.getNombreEmpleado()), unUs.getApellido(), unUs.getDomEmpleado(), unUs.getTelEmpleado(), unUs.getUsser(),
                                  unUs.getPasword()
                    });
            }
        }
    }

    public void CargaTablaCaja(Map cajas) {
        DefaultTableModel modelo = (DefaultTableModel) tblCaja.getModel();
        Collection lista;
        limpiarTabla(tblCaja, modelo);
        lista = cajas.values();
        if (!lista.isEmpty()) {
            int i = 0;
            for (Object unObj : lista) {
                Caja unaCaja = (Caja) unObj;
                double total = 0;
                if (!unaCaja.isCajaAbierta()) {
                    for (MovimientoCaja mov : unaCaja.getMovimientosCaja().values()) {
                        total = total + mov.getUnaVenta().getTotal();
                    }

                    modelo.addRow(new Object[] {
                                  unaCaja.getCodCaja(), unaCaja.getFecha().getTime().toLocaleString(), unaCaja.getUnEmpleado(), unaCaja.getUnEmpleadoCierre(),
                                  unaCaja.getCierreCaja().getTime().toLocaleString(), total
                    });
                }
            }
        }
    }

    public void recargar(Collection lista) {
        DefaultTableModel modelo = (DefaultTableModel) jTableAuditoria.getModel();
        this.auditorias = lista;
        limpiarTabla(jTableAuditoria, modelo);
        if (!auditorias.isEmpty()) {
            for (Object unObj : auditorias) {
                Auditoria unNa = (Auditoria) unObj;
                modelo.addRow(new Object[] {
                              unNa.getOperacion(), unNa.getTabla(), unNa.getUsuario(), unNa.getFecha().getTime().toLocaleString(), unNa.getHora(), unNa.getDato(),
                              unNa.getDetalle()
                });
            }
        }
        jTableAuditoria.setModel(modelo);
    }

    private void limpiarTabla(JTable tabla, DefaultTableModel modelo) {
        int filas = tabla.getRowCount();
        for (int i = 0; filas > i; i++)
            modelo.removeRow(0);
    }

    public Map consultaProveedor(String consulta) {
        int i = cmbCriterioProveedor.getSelectedIndex();
        Map retorno = new HashMap();
        Proveedor aux = null;
        if(consulta.equals(""))
            return unaEmpresa.getProveedores();
        for (Object unProveedor : unaEmpresa.getProveedores().values().toArray()) {
            aux = (Proveedor) unProveedor;
            if ((i == 0) &&
                (aux.getCUITPro().toUpperCase().contains(consulta) || aux.getRazonSocial().toUpperCase().contains(consulta) ||
                 aux.getDomPro().toUpperCase().contains(consulta) || aux.getDomPro().toUpperCase().contains(consulta))) {
                retorno.put(aux.getCUITPro(), aux);
            }
            if ((i == 1) && (aux.getCUITPro().toUpperCase().contains(consulta))) {
                retorno.put(aux.getCUITPro(), aux);
            }
            if ((i == 2) && (aux.getRazonSocial().toUpperCase().contains(consulta))) {
                retorno.put(aux.getRazonSocial(), aux);
            }
            if ((i == 3) && (aux.getDomPro().toUpperCase().contains(consulta))) {
                retorno.put(aux.getDomPro(), aux);
            }
        }
        return retorno;
    }

    public Map consultaCompra(String consulta) {
        int i = cmbCriterioEntrada.getSelectedIndex();
        Map retorno = new HashMap();
        Compra aux = null;
        if(consulta.equals(""))
            return unaEmpresa.getCompras();
        for (Object unaCompra : unaEmpresa.getCompras().values().toArray()) {
            aux = (Compra) unaCompra;
            String j = String.valueOf(aux.getCodCompra());
            if ((i == 0) && (j.contains(consulta) || aux.getUnProveedor().getRazonSocial().toUpperCase().contains(consulta))) {
                retorno.put(j, aux);
            } else if ((i == 1) && (j.contains(consulta))) {
                retorno.put(j, aux);
            } else if ((i == 2) && (aux.getUnProveedor().getRazonSocial().toUpperCase().contains(consulta))) {
                retorno.put(aux.getUnProveedor().getRazonSocial(), aux);
            } else if ((i == 3) && (aux.getFechaHora().equals(dateVenta.getCalendar()))) {
                retorno.put(aux.getFechaHora().toString(), aux);
            }
        }
        return retorno;
    }

    public Map consultaVenta(String consulta) {
        int i = cmbCriterioVenta.getSelectedIndex();
        Map retorno = new HashMap();
        Venta aux = null;
        if(consulta.equals(""))
            return consultaDiaVenta();
        for (Object unaVenta : unaEmpresa.getVentas().values().toArray()) {
            aux = (Venta) unaVenta;
            String j = String.valueOf(aux.getCodVenta());

            if ((i == 0) && (j.contains(consulta) || aux.getUnEmpleado().toString().toUpperCase().contains(consulta))) {
                retorno.put(j, aux);
            }
            if ((i == 1) && (j.contains(consulta))) {
                retorno.put(j, aux);
            }
            if ((i == 2) && (aux.getUnEmpleado().toString().toUpperCase().contains(consulta))) {
                retorno.put(aux.getUnEmpleado(), aux);
            }
            if (aux.getFechaVenta().get(Calendar.DAY_OF_YEAR) == dateCompra.getCalendar().get(Calendar.DAY_OF_YEAR)) {
                retorno.put(aux.getFechaVenta().toString(), aux);
            }
        }
        return retorno;
    }

    public Map consultaArticulos(String consulta) {
        int i = cmbCriterioArticulo.getSelectedIndex();
        Map retorno = new HashMap();
        Articulo aux = null;
        if(consulta.equals(""))
            return unaEmpresa.getArticulos();
        for (Object unArt : unaEmpresa.getArticulos().values().toArray()) {
            aux = (Articulo) unArt;
            Categoria unCa = unaEmpresa.getCategorias().get(aux.getUnaCategoria().getCodPadre());
            if ((i == 0) &&
                (unCa.getNombre().toUpperCase().contains(consulta) || aux.getCodBarra().toUpperCase().contains(consulta) ||
                 aux.getUnaCategoria().toString().toUpperCase().contains(consulta) || aux.getColor().toUpperCase().contains(consulta) ||
                 aux.getColor2().toUpperCase().contains(consulta) || aux.getNombre().toUpperCase().contains(consulta) ||
                 aux.getUnaMarca().toString().toUpperCase().contains(consulta))) {
                retorno.put(aux.getCodBarra(), aux);
            } else if ((i == 1) && (aux.getCodBarra().toUpperCase().contains(consulta))) {
                retorno.put(aux.getCodBarra(), aux);
            } else if ((i == 2) && (aux.getNombre().toUpperCase().contains(consulta))) {
                retorno.put(aux.getNombre(), aux);
            } else if ((i == 3) && (aux.getUnaMarca().toString().toUpperCase().contains(consulta))) {
                retorno.put(aux.getUnaMarca().toString(), aux);
            } else if ((i == 4) && (aux.getColor().toUpperCase().contains(consulta) || aux.getColor2().toUpperCase().contains(consulta))) {
                retorno.put(aux.getColor().toString(), aux);
            } else if ((i == 5) && (aux.getUnaCategoria().toString().toUpperCase().contains(consulta) || unCa.getNombre().toUpperCase().contains(consulta))) {
                retorno.put(aux.getUnaCategoria().toString(), aux);
            }
        }
        return retorno;
    }

    public Map consultaEmpleado(String consulta) {
        int i = cmbCriteriEmpleado.getSelectedIndex();
        Map retorno = new HashMap();
        Empleado aux = null;
        if(consulta.equals(""))
            return unaEmpresa.getEmpleados();
        for (Object unEmp : unaEmpresa.getEmpleados().values().toArray()) {
            aux = (Empleado) unEmp;
            if ((i == 0) &&
                (aux.getApellido().toUpperCase().contains(consulta) || aux.getNombreEmpleado().toString().toUpperCase().contains(consulta) ||
                 aux.getNroDocEmppleado().toUpperCase().contains(consulta)) || aux.getDomEmpleado().toUpperCase().contains(consulta)) {
            }
            if ((i == 1) && (aux.getNroDocEmppleado().toUpperCase().contains(consulta))) {
                retorno.put(aux.getNroDocEmppleado(), aux);
            }
            if ((i == 2) && (aux.getNombreEmpleado().toUpperCase().contains(consulta))) {
                retorno.put(aux.getNombreEmpleado(), aux);
            }
            if ((i == 3) && (aux.getApellido().toString().toUpperCase().contains(consulta))) {
                retorno.put(aux.getApellido().toString(), aux);
            }
            if ((i == 4) && (aux.getDomEmpleado().toString().toUpperCase().contains(consulta))) {
                retorno.put(aux.getDomEmpleado().toString(), aux);
            }
        }
        return retorno;
    }

    @Override
    public void update(Observable observable, Object object) {
        CargaTablaArticulos(unaEmpresa.getArticulos());
        CargaTablaCompras(unaEmpresa.getCompras());
        CargaTablaEmpleados(unaEmpresa.getEmpleados());
        CargaTablaProveedores(unaEmpresa.getProveedores());
        CargaTablaVentas(consultaDiaVenta());
        CargaTablaUsuarios(unaEmpresa.getEmpleados());
        CargaTablaCaja(unaEmpresa.getCajas());
    }

    //reportes
    public void verInformeAuditoria(List colador) {
        JasperReport reporte;
        JasperPrint reporte_view;
        ImageIcon logo = new ImageIcon(unaEmpresa.getFoto());
        File hola = new File("C:\\Users\\Adrian\\Dropbox\\jdeveloper (2)\\buevo\\Zapateria\\ZAPATERIA\\src\\Interfaz\\reporteAuditoria.jasper");

        try {
            tbpAuditoria.setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));
            reporte = (JasperReport) JRLoader.loadObject(hola);
            Map parametros = new HashMap();
            parametros.clear();
            parametros.put("logo", logo.getImage());
            parametros.put("nombre", unaEmpresa.getRazonSocial());
            parametros.put("cuit", unaEmpresa.getCUIL());
            parametros.put("direccion", unaEmpresa.getDireccion());
            parametros.put("telefono", unaEmpresa.getTelefono());
            parametros.put("mail", unaEmpresa.getEmail());
            parametros.put("usser", GuiIngresar.getUsuario());
            reporte_view = JasperFillManager.fillReport(reporte, parametros, new JRBeanCollectionDataSource(colador));
            JasperViewer.viewReport(reporte_view, false);
            tbpAuditoria.setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));
        } catch (JRException e) {
            System.out.println("Error: " + e.toString());
            tbpAuditoria.setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));
        }
    }

    public void verInformeArticulosenVidriera() {
        JasperReport reporte;
        JasperPrint reporte_view;
        ImageIcon logo = new ImageIcon(unaEmpresa.getFoto());
        File hola = new File("C:\\Users\\Adrian\\Dropbox\\jdeveloper (2)\\buevo\\Zapateria\\ZAPATERIA\\src\\Interfaz\\articulosVidriera.jasper");

        try {
            tbpArticulos.setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));
            reporte = (JasperReport) JRLoader.loadObject(hola);
            Map parametros = new HashMap();
            parametros.clear();
            parametros.put("logo", logo.getImage());
            parametros.put("razonSocial", unaEmpresa.getRazonSocial());
            parametros.put("cuil", unaEmpresa.getCUIL());
            parametros.put("direccion", unaEmpresa.getDireccion());
            parametros.put("telefono", unaEmpresa.getTelefono());
            parametros.put("email", unaEmpresa.getEmail());
            parametros.put("usuario", GuiIngresar.getUsuario());
            reporte_view = JasperFillManager.fillReport(reporte, parametros, unaEmpresa.persistencia.AbrirConex());
            JasperViewer.viewReport(reporte_view, false);
            tbpArticulos.setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));
        } catch (JRException e) {
            System.out.println("Error: " + e.toString());
            tbpArticulos.setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));
        }
    }

    public void ver_Informe_Estadistica(List colador) {
        if (!colador.isEmpty()) {
            JasperReport reporte;
            JasperPrint reporte_view;
            ImageIcon logo = new ImageIcon(unaEmpresa.getFoto());
            File hola = new File("C:\\Users\\Adrian\\Dropbox\\jdeveloper (2)\\buevo\\Zapateria\\ZAPATERIA\\src\\Interfaz\\reporteestad.jasper");

            try {
                tbpInformes.setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));
                reporte = (JasperReport) JRLoader.loadObject(hola);
                Map parametros = new HashMap();
                parametros.clear();
                parametros.put("logo", logo.getImage());
                parametros.put("nombre", unaEmpresa.getRazonSocial());
                parametros.put("cuit", unaEmpresa.getCUIL());
                parametros.put("direccion", unaEmpresa.getDireccion());
                parametros.put("telefono", unaEmpresa.getTelefono());
                parametros.put("mail", unaEmpresa.getEmail());
                parametros.put("usser", GuiIngresar.getUsuario());
                reporte_view = JasperFillManager.fillReport(reporte, parametros, new JRBeanCollectionDataSource(colador));
                JasperViewer.viewReport(reporte_view, false);
                tbpInformes.setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));
            } catch (JRException e) {
                System.out.println("Error: " + e.toString());
                tbpInformes.setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));
            }
        } else
            JOptionPane.showMessageDialog(null, "no hay elementos para mostrar");
    }

    public void ver_Informe_Venta(int numeroVenta) {
        tbpVentas.setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));
        Venta unaVenta = unaEmpresa.getVentas().get(numeroVenta);
        JasperReport reporte;
        JasperPrint reporte_view;
        ImageIcon logo = new ImageIcon(unaEmpresa.getFoto());
        File hola = new File("C:\\Users\\Adrian\\Dropbox\\jdeveloper (2)\\buevo\\Zapateria\\ZAPATERIA\\src\\Interfaz\\Ventas.jasper");
        try {
            reporte = (JasperReport) JRLoader.loadObject(hola);
            Map parametros = new HashMap();
            parametros.clear();
            parametros.put("codVenta", numeroVenta);
            parametros.put("Total", unaVenta.getTotal());
            parametros.put("logo", logo.getImage());
            parametros.put("nombre", unaEmpresa.getRazonSocial());
            parametros.put("cuit", unaEmpresa.getCUIL());
            parametros.put("direccion", unaEmpresa.getDireccion());
            parametros.put("telefono", unaEmpresa.getTelefono());
            parametros.put("mail", unaEmpresa.getEmail());
            parametros.put("usser", GuiIngresar.getUsuario());
            reporte_view = JasperFillManager.fillReport(reporte, parametros, new JRBeanCollectionDataSource(unaVenta.getDetallesVenta().values()));
            JasperViewer.viewReport(reporte_view, false);
            tbpVentas.setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));
        } catch (JRException e) {
            System.out.println("Error: " + e.toString());
            tbpVentas.setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));
        }
    }

    public void ver_Informe_Compra(int numeroCompra) {
        tbpCompra.setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));
        Compra unaCompra = unaEmpresa.getCompras().get(numeroCompra);
        JasperReport reporte;
        JasperPrint reporte_view;
        ImageIcon logo = new ImageIcon(unaEmpresa.getFoto());
        File hola = new File("C:\\Users\\Adrian\\Dropbox\\jdeveloper (2)\\buevo\\Zapateria\\ZAPATERIA\\src\\Interfaz\\Compras.jasper");
        try {
            reporte = (JasperReport) JRLoader.loadObject(hola);
            Map parametros = new HashMap();
            parametros.clear();
            parametros.put("codVenta", numeroCompra);
            parametros.put("Total", unaCompra.getTotal());
            parametros.put("logo", logo.getImage());
            parametros.put("nombre", unaEmpresa.getRazonSocial());
            parametros.put("cuit", unaEmpresa.getCUIL());
            parametros.put("direccion", unaEmpresa.getDireccion());
            parametros.put("telefono", unaEmpresa.getTelefono());
            parametros.put("mail", unaEmpresa.getEmail());
            parametros.put("usser", GuiIngresar.getUsuario());
            reporte_view = JasperFillManager.fillReport(reporte, parametros, new JRBeanCollectionDataSource(unaCompra.getDetallesCompra().values()));
            JasperViewer.viewReport(reporte_view, false);
            tbpCompra.setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));
        } catch (JRException e) {
            System.out.println("Error: " + e.toString());
            tbpCompra.setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));
        }
    }

    public void facu() {
        recargar(unaEmpresa.getAuditorias().values());
        GregorianCalendar hoy = new GregorianCalendar();
        hoy.add(Calendar.DAY_OF_YEAR, 0);
        calHasta.setMaxSelectableDate(hoy.getTime());
        dp_hasta.setMaxSelectableDate(hoy.getTime());
        calHasta.setCalendar(hoy);
        dp_hasta.setCalendar(hoy);
        calDesde.setMaxSelectableDate(hoy.getTime());
        dp_desde.setMaxSelectableDate(hoy.getTime());
        calDesde.setCalendar(hoy);
        dp_desde.setCalendar(hoy);
        calHasta.setEnabled(false);
        dp_hasta.setEnabled(false);
        calDesde.setEnabled(false);
        dp_desde.setEnabled(false);
        CBUsuario.removeAllItems();
        Iterator it;
        it = unaEmpresa.getEmpleados().entrySet().iterator();
        while (it.hasNext()) {
            Map.Entry ent = (Map.Entry) it.next();
            Empleado unEmpleado = (Empleado) ent.getValue();
            if (unEmpleado.getUsser() != null)
                CBUsuario.addItem(unEmpleado.getUsser());
        }
        List<Auditoria> clase = new LinkedList();
        CBUsuario1.removeAll();
        Iterator itt;
        itt = unaEmpresa.getAuditorias().entrySet().iterator();
        while (itt.hasNext()) {
            Map.Entry ent = (Map.Entry) itt.next();
            Auditoria unaClase = (Auditoria) ent.getValue();
            if (clase.isEmpty()) {
                clase.add(unaClase);
            } else {
                boolean bandera = false;
                for (Auditoria auxx : clase) {
                    if (auxx.getTabla().toUpperCase().equals(unaClase.getTabla().toUpperCase())) {
                        bandera = true;
                    }
                }
                if (!bandera) {
                    clase.add(unaClase);
                }

            }
        }

        for (Auditoria auxxx : clase) {
            CBUsuario1.addItem(auxxx.getTabla());
        }
    }

    public void filtroCompra() {
        if (cbx_filtro1.getSelectedIndex() == 0) {
            Calendar fechaVenta = Calendar.getInstance();
            Calendar fechaDP = Calendar.getInstance();
            fechaDP.setTime(calDesde.getDate());
            DefaultTableModel modelo = (DefaultTableModel) tablaEstadistica.getModel();
            limpiarTabla(tablaEstadistica, modelo);
            int i = 0;
            Double j = 0.0;
            for (Object unObj : unaEmpresa.getMarcas().values()) {
                Marca unaMarca = (Marca) unObj;
                for (Object unObj1 : unaEmpresa.getCompras().values()) {
                    Compra unaCompra = (Compra) unObj1;
                    fechaVenta.setTime(unaCompra.getFechaHora().getTime());
                    if (fechaDP.get(Calendar.DAY_OF_YEAR) == fechaVenta.get(Calendar.DAY_OF_YEAR))
                        for (Object unObj2 : unaCompra.getDetallesCompra().values()) {
                            DetalleVenta detalle = (DetalleVenta) unObj2;
                            if (unaMarca.equals(detalle.getUnArticulo().getUnaMarca())) {
                                i = i + detalle.getCantidad();
                                j = j + detalle.getPrecio();
                            }
                        }
                }
                modelo.addRow(new Object[] { unaMarca.getNombreMarca(), j, i });
                j = 0.0;
                i = 0;
            }
        } else {
            Calendar fechaVenta = Calendar.getInstance();
            Calendar desdee = Calendar.getInstance();
            Calendar hastaa = Calendar.getInstance();
            desdee.setTime(calDesde.getDate());
            hastaa.setTime(calHasta.getDate());
            DefaultTableModel modelo = (DefaultTableModel) tablaEstadistica.getModel();
            int i = 0;
            Double j = 0.0;
            for (Object unObj : unaEmpresa.getMarcas().values()) {
                Marca unaMarca = (Marca) unObj;
                for (Object unObj1 : unaEmpresa.getVentas().values()) {
                    Venta unaVenta = (Venta) unObj1;
                    fechaVenta.setTime(unaVenta.getFechaVenta().getTime());
                    if ((fechaVenta.equals(desdee) || fechaVenta.after(desdee)) && (fechaVenta.equals(hastaa) || fechaVenta.before(hastaa)))
                        for (Object unObj2 : unaVenta.getDetallesVenta().values()) {
                            DetalleVenta detalle = (DetalleVenta) unObj2;
                            if (unaMarca.equals(detalle.getUnArticulo().getUnaMarca())) {
                                i = i + detalle.getCantidad();
                                j = j + detalle.getPrecio();
                            }
                        }
                }
                modelo.addRow(new Object[] { unaMarca.getNombreMarca(), j, i });
                j = 0.0;
                i = 0;
            }
        }
    }

    public void filtroVenta() {
        DetalleVenta detalle = null;
        Boolean entro = false;
        DefaultTableModel modelo = (DefaultTableModel) tablaEstadistica.getModel();
        limpiarTabla(tablaEstadistica, modelo);
        colador = new LinkedList();
        if (cbx_filtro1.getSelectedIndex() == 0) {
            Calendar fechaVenta = Calendar.getInstance();
            Calendar fechaDP = Calendar.getInstance();
            fechaDP.setTime(calDesde.getDate());
            int i = 0;
            Double j = 0.0;
            for (Object unObj : unaEmpresa.getMarcas().values()) {
                Marca unaMarca = (Marca) unObj;
                for (Object unObj1 : unaEmpresa.getVentas().values()) {
                    Venta unaVenta = (Venta) unObj1;
                    fechaVenta.setTime(unaVenta.getFechaVenta().getTime());
                    if (fechaDP.get(Calendar.DAY_OF_YEAR) == fechaVenta.get(Calendar.DAY_OF_YEAR))
                        for (Object unObj2 : unaVenta.getDetallesVenta().values()) {
                            detalle = (DetalleVenta) unObj2;
                            if (unaMarca.equals(detalle.getUnArticulo().getUnaMarca())) {
                                i = i + detalle.getCantidad();
                                j = j + detalle.getPrecio();
                                colador.add(detalle);
                            }
                        }
                }
                modelo.addRow(new Object[] { unaMarca.getNombreMarca(), j, i });
                j = 0.0;
                i = 0;
            }
        } else {
            Calendar fechaVenta = Calendar.getInstance();
            Calendar desdee = Calendar.getInstance();
            Calendar hastaa = Calendar.getInstance();
            desdee.setTime(calDesde.getDate());
            hastaa.setTime(calHasta.getDate());
            int i = 0;
            Double j = 0.0;
            for (Object unObj : unaEmpresa.getMarcas().values()) {
                Marca unaMarca = (Marca) unObj;
                for (Object unObj1 : unaEmpresa.getVentas().values()) {
                    Venta unaVenta = (Venta) unObj1;
                    fechaVenta.setTime(unaVenta.getFechaVenta().getTime());
                    if ((fechaVenta.equals(desdee) || fechaVenta.after(desdee)) && (fechaVenta.equals(hastaa) || fechaVenta.before(hastaa)))
                        for (Object unObj2 : unaVenta.getDetallesVenta().values()) {
                            detalle = (DetalleVenta) unObj2;
                            if (unaMarca.equals(detalle.getUnArticulo().getUnaMarca())) {
                                i = i + detalle.getCantidad();
                                j = j + detalle.getPrecio();
                                colador.add(detalle);
                            }
                        }
                }
                modelo.addRow(new Object[] { unaMarca.getNombreMarca(), j, i });
                j = 0.0;
                i = 0;
            }
        }
    }

    public Map consultaDiaVenta() {
        Map retorno = new HashMap();
        Venta aux = null;
        for (Object unaVenta : unaEmpresa.getVentas().values().toArray()) {
            aux = (Venta) unaVenta;
            if (aux.getFechaVenta().get(Calendar.DAY_OF_YEAR) == Calendar.getInstance().get(Calendar.DAY_OF_YEAR)) {
                retorno.put(aux.getFechaVenta().toString(), aux);
            }
        }
        return retorno;
    }

    public Map consultaDiaCompra() {
        Map retorno = new HashMap();
        Compra aux = null;
        for (Object unaCompra : unaEmpresa.getCompras().values().toArray()) {
            aux = (Compra) unaCompra;
            if (aux.getFechaHora().get(Calendar.DAY_OF_YEAR) == Calendar.getInstance().get(Calendar.DAY_OF_YEAR)) {
                retorno.put(aux.getFechaHora().toString(), aux);
            }
        }
        return retorno;
    }

    /*public void run() {
        Thread ct = Thread.currentThread();
        while (ct == hilo) {
            try {
                Calendar c1 = GregorianCalendar.getInstance();
                lblFecha.setText(c1.getTime().toLocaleString());
                Thread.sleep(500);
            } catch (InterruptedException ex) {
                JOptionPane.showMessageDialog(null, ex.getMessage());
            }
        }
    }*/

    private void reloj() {
        javax.swing.Timer timer = new javax.swing.Timer(1000, new java.awt.event.ActionListener() {
            @Override
            public void actionPerformed(java.awt.event.ActionEvent ae) {
                lblFecha.setText(Calendar.getInstance().getTime().toLocaleString());
            }
        });
        timer.start();
    }
}
